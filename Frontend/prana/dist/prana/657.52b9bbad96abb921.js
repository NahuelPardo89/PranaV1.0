"use strict";(self.webpackChunkprana=self.webpackChunkprana||[]).push([[657],{8657:(be,x,l)=>{l.r(x),l.d(x,{InsurancesModule:()=>fe});var g=l(6895),m=l(1390),_=l(8739),d=l(6308),c=l(7155),t=l(4650),b=l(503),f=l(4261),h=l(4144),u=l(9549),a=l(4006);function U(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1,"id"),t.qZA())}function q(n,i){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.id)}}function w(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1,"Nombre"),t.qZA())}function N(n,i){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.name)}}function O(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1,"Activo"),t.qZA())}function F(n,i){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.is_active?"S\xed":"No"," ")}}function L(n,i){1&n&&(t.TgZ(0,"th",26),t._uU(1,"Acciones"),t.qZA())}function Y(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw();return t.KtG(s.insuranceEdit(o))}),t.TgZ(2,"i",30),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw();return t.KtG(s.insuranceDelete(o.id))}),t.TgZ(5,"i",30),t._uU(6,"delete"),t.qZA()(),t.BQk()}}function E(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw();return t.KtG(s.activeInsurance(o))}),t.TgZ(1,"i",33),t._uU(2,"check_circle"),t.qZA(),t._uU(3,"Activar "),t.qZA()}}function J(n,i){if(1&n&&(t.TgZ(0,"td",25),t.YNc(1,Y,7,0,"ng-container",27),t.YNc(2,E,4,0,"ng-template",null,28,t.W1O),t.qZA()),2&n){const e=i.$implicit,r=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.is_active)("ngIfElse",r)}}function Q(n,i){1&n&&t._UZ(0,"tr",34)}function k(n,i){1&n&&t._UZ(0,"tr",35),2&n&&t.ekj("bg-danger",!i.$implicit.is_active)}const M=function(){return[5,10,25,100]};let B=(()=>{class n{constructor(e,r,o){this.insuranceService=e,this.dialogService=r,this.router=o,this.displayedColumns=["id","name","is_active","actions"],this.showInactive=!1}ngOnInit(){this.setDataTable()}setDataTable(){this.insuranceService.getAll().subscribe(e=>{const r=this.showInactive?e:e.filter(o=>o.is_active);this.dataSource=new c.by(r),this.paginator._intl.itemsPerPageLabel="items por p\xe1gina",this.paginator._intl.firstPageLabel="primera p\xe1gina",this.paginator._intl.lastPageLabel="\xfaltima p\xe1gina",this.paginator._intl.nextPageLabel="p\xe1gina siguiente",this.paginator._intl.previousPageLabel="p\xe1gina anterior",this.dataSource.paginator=this.paginator,this.sort.active="name",this.sort.direction="asc",this.dataSource.sort=this.sort})}onShowInactiveChange(){this.setDataTable()}applyFilter(e){this.dataSource.filter=e.target.value.trim(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}insuranceEdit(e){this.router.navigate(["Dashboard/insurances/insurance/edit"],{state:{insurance:e}})}insuranceDelete(e){this.dialogService.openConfirmDialog("\xbfEst\xe1s seguro de que deseas desactivar esta Obra Social?").afterClosed().subscribe(o=>{o&&this.insuranceService.delete(e).subscribe({next:()=>{this.setDataTable(),this.dialogService.showSuccessDialog("Obra Social Desactivado con \xe9xito")},error:s=>{this.dialogService.showErrorDialog("Hubo un error al Desactivar la Obra Social")}})})}activeInsurance(e){e.is_active=!0,this.insuranceService.update(e.id,e).subscribe({next:()=>{this.dialogService.showSuccessDialog("Obra Social Activada con \xe9xito"),this.setDataTable()},error:r=>{this.dialogService.showErrorDialog("Error al Activar Obra Social")}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.L),t.Y36(f.x),t.Y36(m.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-insurance"]],viewQuery:function(e,r){if(1&e&&(t.Gf(_.NW,5),t.Gf(d.YE,5)),2&e){let o;t.iGM(o=t.CRH())&&(r.paginator=o.first),t.iGM(o=t.CRH())&&(r.sort=o.first)}},decls:36,vars:6,consts:[[1,"container-fluid"],[1,"title","bg-info","text-center","border","border-dark","rounded-top","mb-4"],[1,"text-white"],[1,"d-flex","justify-content-end","mb-3"],["routerLink","create",1,"btn","btn-success"],[1,"material-symbols-outlined","btn-icon"],["appearance","outline",1,"example-form-field"],["matInput","",3,"keyup"],["input",""],[1,"form-check","mb-3"],["type","checkbox","id","showInactive",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","showInactive",1,"form-check-label"],[1,"table-responsive"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","is_active"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"bg-danger",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[4,"ngIf","ngIfElse"],["activateUserTemplate",""],["aria-label","Editar usuario",1,"btn","btn-primary","me-2","shadow",3,"click"],[1,"material-symbols-outlined"],["aria-label","Eliminar usuario",1,"btn","btn-danger","me-2","shadow",3,"click"],["aria-label","Activar usuario",1,"btn","btn-success","me-2","shadow","d-flex","align-items-center","justify-content-center",3,"click"],[1,"material-symbols-outlined","me-1","d-none","d-sm-inline"],["mat-header-row",""],["mat-row",""]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Obras Sociales"),t.qZA()(),t.TgZ(4,"div",0)(5,"div",3)(6,"button",4)(7,"i",5),t._uU(8,"medical_services"),t.qZA(),t._uU(9," Agregar Obra Social "),t.qZA()(),t.TgZ(10,"mat-form-field",6)(11,"mat-label"),t._uU(12,"Filtrar por Nombre"),t.qZA(),t.TgZ(13,"input",7,8),t.NdJ("keyup",function(s){return r.applyFilter(s)}),t.qZA()(),t.TgZ(15,"div",9)(16,"input",10),t.NdJ("ngModelChange",function(s){return r.showInactive=s})("change",function(){return r.onShowInactiveChange()}),t.qZA(),t.TgZ(17,"label",11),t._uU(18," Mostrar desactivadas "),t.qZA()(),t.TgZ(19,"div",12)(20,"table",13),t.ynx(21,14),t.YNc(22,U,2,0,"th",15),t.YNc(23,q,2,1,"td",16),t.BQk(),t.ynx(24,17),t.YNc(25,w,2,0,"th",15),t.YNc(26,N,2,1,"td",16),t.BQk(),t.ynx(27,18),t.YNc(28,O,2,0,"th",15),t.YNc(29,F,2,1,"td",16),t.BQk(),t.ynx(30,19),t.YNc(31,L,2,0,"th",20),t.YNc(32,J,4,2,"td",16),t.BQk(),t.YNc(33,Q,1,0,"tr",21),t.YNc(34,k,1,2,"tr",22),t.qZA()(),t._UZ(35,"mat-paginator",23),t.qZA()()),2&e&&(t.xp6(16),t.Q6J("ngModel",r.showInactive),t.xp6(4),t.Q6J("dataSource",r.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(5,M)))},dependencies:[g.O5,m.rH,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,_.NW,d.YE,d.nU,h.Nt,u.KE,u.hX,a.Wl,a.JJ,a.On],styles:[".example-form-field[_ngcontent-%COMP%]{width:100%}.mat-elevation-z8[_ngcontent-%COMP%]{background-color:#f5f5f5}button[_ngcontent-%COMP%]{min-height:20px;text-align:left;vertical-align:middle}.material-icons[_ngcontent-%COMP%]{margin-right:10px;vertical-align:middle}"]}),n})();function G(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"El campo Nombre es obligatorio"),t.qZA())}let R=(()=>{class n{constructor(e,r,o,s){this.fb=e,this.insuranceService=r,this.dialog=o,this.router=s,this.insuranceForm=this.fb.group({name:["",a.kI.required]})}onSubmit(){if(this.insuranceForm.valid){const e=this.insuranceForm.get("name")?.value.toUpperCase();this.insuranceForm.get("name")?.setValue(e),this.insuranceService.create(this.insuranceForm.value).subscribe({next:r=>{this.dialog.showSuccessDialog("Obra Social creada correctamente"),this.router.navigate(["/Dashboard/insurances/insurance"])},error:r=>{this.dialog.showErrorDialog(r.error.message)}})}}onCancel(){this.router.navigate(["/Dashboard/insurances/insurance"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.qu),t.Y36(b.L),t.Y36(f.x),t.Y36(m.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-insurance"]],decls:16,vars:3,consts:[[1,"container","mt-3"],[1,"card"],[1,"card-header","bg-info","text-white","text-center"],[1,"card-body"],[1,"create-user-form",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","name"],[4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Crear Obra Social"),t.qZA()(),t.TgZ(5,"div",3)(6,"form",4),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(7,"mat-form-field",5)(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",6),t.YNc(11,G,2,0,"mat-error",7),t.qZA(),t.TgZ(12,"button",8),t._uU(13," Crear Obra Social "),t.qZA(),t.TgZ(14,"button",9),t.NdJ("click",function(){return r.onCancel()}),t._uU(15,"Cancelar"),t.qZA()()()()()),2&e&&(t.xp6(6),t.Q6J("formGroup",r.insuranceForm),t.xp6(5),t.Q6J("ngIf",null==r.insuranceForm.get("name").errors?null:r.insuranceForm.get("name").errors.required),t.xp6(1),t.Q6J("disabled",!r.insuranceForm.valid))},dependencies:[g.O5,h.Nt,u.KE,u.hX,u.TO,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:[".create-user-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),n})();function H(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"El campo Nombre es obligatorio"),t.qZA())}let $=(()=>{class n{constructor(e,r,o,s){this.fb=e,this.router=r,this.insuranceService=o,this.dialogService=s}ngOnInit(){this.initForm(),history.state.insurance&&this.insuranceForm.patchValue(history.state.insurance)}initForm(){this.insuranceForm=this.fb.group({name:["",a.kI.required]})}onSubmit(){if(this.insuranceForm.valid){const e=history.state.insurance?history.state.insurance.id:null;if(e){const r=this.insuranceForm.get("name")?.value.toUpperCase();this.insuranceForm.get("name")?.setValue(r),this.insuranceService.update(e,this.insuranceForm.value).subscribe({next:()=>{this.dialogService.showSuccessDialog("Obra Social Editada con \xe9xito"),this.router.navigate(["Dashboard/insurances/insurance"])},error:o=>{this.dialogService.showErrorDialog("Error al actualizar Obra Social")}})}else console.error("Error: No se pudo obtener el ID Obra Social para la actualizaci\xf3n.")}else console.log("El formulario no es v\xe1lido")}onCancel(){this.router.navigate(["Dashboard/insurances/insurance"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.qu),t.Y36(m.F0),t.Y36(b.L),t.Y36(f.x))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-insurance"]],decls:16,vars:3,consts:[[1,"container","mt-3"],[1,"card"],[1,"card-header","bg-info","text-white","text-center"],[1,"text-center"],[1,"card-body"],[1,"create-user-form",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","name"],[4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4,"Editar Obra Social"),t.qZA()(),t.TgZ(5,"div",4)(6,"form",5),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(7,"mat-form-field",6)(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,H,2,0,"mat-error",8),t.qZA(),t.TgZ(12,"button",9),t._uU(13," Guardar "),t.qZA(),t.TgZ(14,"button",10),t.NdJ("click",function(){return r.onCancel()}),t._uU(15,"Cancelar"),t.qZA()()()()()),2&e&&(t.xp6(6),t.Q6J("formGroup",r.insuranceForm),t.xp6(5),t.Q6J("ngIf",null==r.insuranceForm.get("name").errors?null:r.insuranceForm.get("name").errors.required),t.xp6(1),t.Q6J("disabled",!r.insuranceForm.valid))},dependencies:[g.O5,h.Nt,u.KE,u.hX,u.TO,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:[".create-user-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]{margin:20px}"]}),n})();var S=l(5114);function j(n,i){1&n&&(t.TgZ(0,"th",23),t._uU(1,"id"),t.qZA())}function X(n,i){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.id)}}function z(n,i){1&n&&(t.TgZ(0,"th",23),t._uU(1,"Paciente"),t.qZA())}function K(n,i){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.patient)}}function W(n,i){1&n&&(t.TgZ(0,"th",23),t._uU(1,"Obra Social"),t.qZA())}function V(n,i){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.insurance)}}function tt(n,i){1&n&&(t.TgZ(0,"th",23),t._uU(1,"C\xf3digo"),t.qZA())}function et(n,i){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.code)}}function nt(n,i){1&n&&(t.TgZ(0,"th",23),t._uU(1,"Activo"),t.qZA())}function rt(n,i){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.is_active?"S\xed":"No"," ")}}function it(n,i){1&n&&(t.TgZ(0,"th",25),t._uU(1,"Acciones"),t.qZA())}function ot(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",24),t.ynx(1),t.TgZ(2,"button",26),t.NdJ("click",function(){const s=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.insurancePatientEdit(s))}),t.TgZ(3,"i",27),t._uU(4,"edit"),t.qZA()(),t.TgZ(5,"button",28),t.NdJ("click",function(){const s=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.insuranceDelete(s.id))}),t.TgZ(6,"i",27),t._uU(7,"delete"),t.qZA()(),t.BQk(),t.qZA()}}function at(n,i){1&n&&t._UZ(0,"tr",29)}function st(n,i){1&n&&t._UZ(0,"tr",30)}const ct=function(){return[5,10,25,100]};let ut=(()=>{class n{constructor(e,r,o){this.insurancePatientService=e,this.dialogService=r,this.router=o,this.displayedColumns=["id","patient","insurance","code","actions"]}ngOnInit(){this.setDataTable()}setDataTable(){this.insurancePatientService.getAll().subscribe(e=>{this.dataSource=new c.by(e),this.paginator._intl.itemsPerPageLabel="items por p\xe1gina",this.paginator._intl.firstPageLabel="primera p\xe1gina",this.paginator._intl.lastPageLabel="\xfaltima p\xe1gina",this.paginator._intl.nextPageLabel="p\xe1gina siguiente",this.paginator._intl.previousPageLabel="p\xe1gina anterior",this.dataSource.paginator=this.paginator,this.sort.active="name",this.sort.direction="asc",this.dataSource.sort=this.sort})}applyFilter(e){this.dataSource.filter=e.target.value.trim(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}insurancePatientEdit(e){this.router.navigate(["Dashboard/insurances/patient/edit"],{state:{insurancePlanPatient:e}})}insuranceDelete(e){this.dialogService.openConfirmDialog("\xbfEst\xe1s seguro de que deseas Eliminar esta Obra Social del Paciente?").afterClosed().subscribe(o=>{o&&this.insurancePatientService.delete(e).subscribe({next:()=>{this.setDataTable(),this.dialogService.showSuccessDialog("Obra Social Eliminada con \xe9xito")},error:s=>{this.dialogService.showErrorDialog("Hubo un error al Eliminar la Obra Social")}})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.q),t.Y36(f.x),t.Y36(m.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-insurance-patient"]],viewQuery:function(e,r){if(1&e&&(t.Gf(_.NW,5),t.Gf(d.YE,5)),2&e){let o;t.iGM(o=t.CRH())&&(r.paginator=o.first),t.iGM(o=t.CRH())&&(r.sort=o.first)}},decls:38,vars:5,consts:[[1,"container-fluid"],[1,"title","bg-info","text-center","border","border-dark","rounded-top","mb-4"],[1,"text-white"],[1,"d-flex","justify-content-end","mb-3"],["routerLink","create",1,"btn","btn-success"],[1,"material-symbols-outlined","btn-icon"],["appearance","outline",1,"example-form-field"],["matInput","",3,"keyup"],["input",""],[1,"table-responsive"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","patient"],["matColumnDef","insurance"],["matColumnDef","code"],["matColumnDef","is_active"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["aria-label","Editar usuario",1,"btn","btn-primary","me-2","shadow",3,"click"],[1,"material-symbols-outlined"],["aria-label","Eliminar usuario",1,"btn","btn-danger","me-2","shadow",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Obras Sociales Pacientes"),t.qZA()(),t.TgZ(4,"div",0)(5,"div",3)(6,"button",4)(7,"i",5),t._uU(8,"medical_services"),t.qZA(),t._uU(9," Agregar Obra Social "),t.qZA()(),t.TgZ(10,"mat-form-field",6)(11,"mat-label"),t._uU(12,"Filtrar por Nombre"),t.qZA(),t.TgZ(13,"input",7,8),t.NdJ("keyup",function(s){return r.applyFilter(s)}),t.qZA()(),t.TgZ(15,"div",9)(16,"table",10),t.ynx(17,11),t.YNc(18,j,2,0,"th",12),t.YNc(19,X,2,1,"td",13),t.BQk(),t.ynx(20,14),t.YNc(21,z,2,0,"th",12),t.YNc(22,K,2,1,"td",13),t.BQk(),t.ynx(23,15),t.YNc(24,W,2,0,"th",12),t.YNc(25,V,2,1,"td",13),t.BQk(),t.ynx(26,16),t.YNc(27,tt,2,0,"th",12),t.YNc(28,et,2,1,"td",13),t.BQk(),t.ynx(29,17),t.YNc(30,nt,2,0,"th",12),t.YNc(31,rt,2,1,"td",13),t.BQk(),t.ynx(32,18),t.YNc(33,it,2,0,"th",19),t.YNc(34,ot,8,0,"td",13),t.BQk(),t.YNc(35,at,1,0,"tr",20),t.YNc(36,st,1,0,"tr",21),t.qZA()(),t._UZ(37,"mat-paginator",22),t.qZA()()),2&e&&(t.xp6(16),t.Q6J("dataSource",r.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(4,ct)))},dependencies:[m.rH,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,_.NW,d.YE,d.nU,h.Nt,u.KE,u.hX],styles:[".example-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.mat-elevation-z8[_ngcontent-%COMP%]{background-color:#f5f5f5}button[_ngcontent-%COMP%]{min-height:20px;text-align:left;vertical-align:middle}.material-icons[_ngcontent-%COMP%]{margin-right:10px;vertical-align:middle}"]}),n})();var y=l(9751),A=l(8675),v=l(4004),lt=l(6573),T=l(4385),I=l(3238),Z=l(3805);function mt(n,i){if(1&n&&(t.TgZ(0,"mat-option",15),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.user," ")}}function pt(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"El campo Paciente es obligatorio"),t.qZA())}function dt(n,i){if(1&n&&(t.TgZ(0,"mat-option",15),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function ht(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"El campo Obra Social es obligatorio"),t.qZA())}let gt=(()=>{class n{constructor(e,r,o,s,p,D){this.patientProfileService=e,this.insuranceService=r,this.insurancePatientService=o,this.fb=s,this.dialog=p,this.router=D,this.patients=[],this.insurances=[],this.filteredPatient=new y.y,this.patientControl=new a.NI("",a.kI.required),this.insurancePatientForm=this.fb.group({patient:this.patientControl,insurance:["",a.kI.required],code:[""]})}ngOnInit(){this.loadPatient(),this.loadInsurance(),this.filterPatient()}loadPatient(){this.patientProfileService.getAllPatients().subscribe(e=>{this.patients=e})}loadInsurance(){this.insuranceService.getAll().subscribe(e=>{this.insurances=e})}filterPatient(){this.filteredPatient=this.insurancePatientForm.get("patient").valueChanges.pipe((0,A.O)(""),(0,v.U)(e=>"string"==typeof e?e.toLowerCase():""),(0,v.U)(e=>e?this._filterPatient(e):this.patients.slice()))}_filterPatient(e){return this.patients.filter(r=>r.user.toString().toLowerCase().includes(e))}displayPatient(e){return e&&e.user?e.user.toString():""}onSubmit(){this.insurancePatientForm.valid&&(this.insurancePatientForm.value.patient=this.insurancePatientForm.value.patient.id,console.log(this.insurancePatientForm.value),this.insurancePatientService.create(this.insurancePatientForm.value).subscribe({next:r=>{this.dialog.showSuccessDialog("Obra Social agregada correctamente"),this.router.navigate(["/Dashboard/insurances/patient"])},error:r=>{this.dialog.showErrorDialog(r.error.message)}}))}onCancel(){this.router.navigate(["/Dashboard/insurances/patient"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(lt.e),t.Y36(b.L),t.Y36(S.q),t.Y36(a.qu),t.Y36(f.x),t.Y36(m.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-insurance-patient"]],decls:30,vars:11,consts:[[1,"container","mt-3"],[1,"card"],[1,"card-header","bg-info","text-white","text-center"],[1,"card-body"],[1,"create-user-form",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","",3,"matAutocomplete","formControl"],["autoActiveFirstOption","",3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","insurance"],["matInput","","formControlName","code"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"],[3,"value"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Agregar Obra Social a Paciente"),t.qZA()(),t.TgZ(5,"div",3)(6,"form",4),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(7,"mat-form-field",5)(8,"mat-label"),t._uU(9,"Paciente"),t.qZA(),t._UZ(10,"input",6),t.TgZ(11,"mat-autocomplete",7,8),t.YNc(13,mt,2,2,"mat-option",9),t.ALo(14,"async"),t.qZA(),t.YNc(15,pt,2,0,"mat-error",10),t.qZA(),t.TgZ(16,"mat-form-field",5)(17,"mat-label"),t._uU(18,"Obra Social"),t.qZA(),t.TgZ(19,"mat-select",11),t.YNc(20,dt,2,2,"mat-option",9),t.qZA(),t.YNc(21,ht,2,0,"mat-error",10),t.qZA(),t.TgZ(22,"mat-form-field",5)(23,"mat-label"),t._uU(24,"N\xb0 Afiliado"),t.qZA(),t._UZ(25,"input",12),t.qZA(),t.TgZ(26,"button",13),t._uU(27," Agregar Obra Social "),t.qZA(),t.TgZ(28,"button",14),t.NdJ("click",function(){return r.onCancel()}),t._uU(29,"Cancelar"),t.qZA()()()()()),2&e){const o=t.MAs(12);t.xp6(6),t.Q6J("formGroup",r.insurancePatientForm),t.xp6(4),t.Q6J("matAutocomplete",o)("formControl",r.patientControl),t.xp6(1),t.Q6J("displayWith",r.displayPatient),t.xp6(2),t.Q6J("ngForOf",t.lcZ(14,9,r.filteredPatient)),t.xp6(2),t.Q6J("ngIf",null==r.insurancePatientForm.get("patient").errors?null:r.insurancePatientForm.get("patient").errors.required),t.xp6(5),t.Q6J("ngForOf",r.insurances),t.xp6(1),t.Q6J("ngIf",null==r.insurancePatientForm.get("insurance").errors?null:r.insurancePatientForm.get("insurance").errors.required),t.xp6(5),t.Q6J("disabled",!r.insurancePatientForm.valid)}},dependencies:[g.sg,g.O5,h.Nt,u.KE,u.hX,u.TO,a._Y,a.Fj,a.JJ,a.JL,a.oH,a.sg,a.u,T.gD,I.ey,Z.XC,Z.ZL,g.Ov],styles:["create-user-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]}),n})(),ft=(()=>{class n{constructor(e,r,o,s){this.fb=e,this.router=r,this.insurancePlanPatienteService=o,this.dialogService=s}ngOnInit(){this.initForm(),history.state.insurancePlanPatient&&(this.patientName=history.state.insurancePlanPatient.patient,this.insuranceName=history.state.insurancePlanPatient.insurance,this.insurancePatientForm.patchValue(history.state.insurancePlanPatient))}initForm(){this.insurancePatientForm=this.fb.group({code:[""]})}onSubmit(){if(this.insurancePatientForm.valid){const e=history.state.insurancePlanPatient?history.state.insurancePlanPatient.id:null;e?this.insurancePlanPatienteService.update(e,this.insurancePatientForm.value).subscribe({next:()=>{this.dialogService.showSuccessDialog("Profesional Editado con \xe9xito"),this.router.navigate(["/Dashboard/insurances/patient"])},error:r=>{this.dialogService.showErrorDialog("Error al actualizar el Profesional")}}):console.error("Error: No se pudo obtener el ID del usuario para la actualizaci\xf3n.")}else console.log("El formulario no es v\xe1lido")}onCancel(){this.router.navigate(["/Dashboard/insurances/patient"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.qu),t.Y36(m.F0),t.Y36(S.q),t.Y36(f.x))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-insurance-patient"]],decls:17,vars:4,consts:[[1,"container","mt-3"],[1,"card"],[1,"card-header","bg-info","text-white","text-center"],[1,"card-body"],[1,"create-user-form",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","code"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4),t.qZA(),t.TgZ(5,"h3"),t._uU(6),t.qZA()(),t.TgZ(7,"div",3)(8,"form",4),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(9,"mat-form-field",5)(10,"mat-label"),t._uU(11,"N\xb0 Afiliado"),t.qZA(),t._UZ(12,"input",6),t.qZA(),t.TgZ(13,"button",7),t._uU(14," Guardar "),t.qZA(),t.TgZ(15,"button",8),t.NdJ("click",function(){return r.onCancel()}),t._uU(16,"Cancelar"),t.qZA()()()()()),2&e&&(t.xp6(4),t.hij("Editar Obra Social ",r.insuranceName,""),t.xp6(2),t.hij("Paciente: ",r.patientName,""),t.xp6(2),t.Q6J("formGroup",r.insurancePatientForm),t.xp6(5),t.Q6J("disabled",!r.insurancePatientForm.valid))},dependencies:[h.Nt,u.KE,u.hX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:["create-user-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]}),n})();var C=l(1337);function _t(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1,"id"),t.qZA())}function bt(n,i){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.id)}}function Ct(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1,"doctor"),t.qZA())}function Zt(n,i){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.doctor)}}function Dt(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1,"Obra Social"),t.qZA())}function vt(n,i){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.insurance)}}function Tt(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1,"Rama de atenci\xf3n"),t.qZA())}function St(n,i){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.branch)}}function It(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1,"Cobertura $"),t.qZA())}function xt(n,i){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.price)}}function yt(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1,"Activo"),t.qZA())}function At(n,i){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.is_active?"S\xed":"No"," ")}}function Pt(n,i){1&n&&(t.TgZ(0,"th",26),t._uU(1,"Acciones"),t.qZA())}function Ut(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",25),t.ynx(1),t.TgZ(2,"button",27),t.NdJ("click",function(){const s=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.insuranceDoctorEdit(s))}),t.TgZ(3,"i",28),t._uU(4,"edit"),t.qZA()(),t.TgZ(5,"button",29),t.NdJ("click",function(){const s=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.insuranceDelete(s.id))}),t.TgZ(6,"i",28),t._uU(7,"delete"),t.qZA()(),t.BQk(),t.qZA()}}function qt(n,i){1&n&&t._UZ(0,"tr",30)}function wt(n,i){1&n&&t._UZ(0,"tr",31)}const Nt=function(){return[5,10,25,100]};let Ot=(()=>{class n{constructor(e,r,o){this.insuranceDoctorService=e,this.dialogService=r,this.router=o,this.displayedColumns=["id","doctor","insurance","branch","price","actions"]}ngOnInit(){this.setDataTable()}setDataTable(){this.insuranceDoctorService.getAll().subscribe(e=>{this.dataSource=new c.by(e),this.paginator._intl.itemsPerPageLabel="items por p\xe1gina",this.paginator._intl.firstPageLabel="primera p\xe1gina",this.paginator._intl.lastPageLabel="\xfaltima p\xe1gina",this.paginator._intl.nextPageLabel="p\xe1gina siguiente",this.paginator._intl.previousPageLabel="p\xe1gina anterior",this.dataSource.paginator=this.paginator,this.sort.active="name",this.sort.direction="asc",this.dataSource.sort=this.sort})}applyFilter(e){this.dataSource.filter=e.target.value.trim(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}insuranceDoctorEdit(e){this.router.navigate(["Dashboard/insurances/doctor/edit"],{state:{insurancePlanDoctor:e}})}insuranceDelete(e){this.dialogService.openConfirmDialog("\xbfEst\xe1s seguro de que deseas Eliminar esta Obra Social del Profesional?").afterClosed().subscribe(o=>{o&&this.insuranceDoctorService.delete(e).subscribe({next:()=>{this.setDataTable(),this.dialogService.showSuccessDialog("Obra Social Eliminada con \xe9xito")},error:s=>{this.dialogService.showErrorDialog("Hubo un error al Eliminar la Obra Social")}})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.S),t.Y36(f.x),t.Y36(m.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-insurance-doctor"]],viewQuery:function(e,r){if(1&e&&(t.Gf(_.NW,5),t.Gf(d.YE,5)),2&e){let o;t.iGM(o=t.CRH())&&(r.paginator=o.first),t.iGM(o=t.CRH())&&(r.sort=o.first)}},decls:41,vars:5,consts:[[1,"container-fluid"],[1,"title","bg-info","text-center","border","border-dark","rounded-top","mb-4"],[1,"text-white"],[1,"d-flex","justify-content-end","mb-3"],["routerLink","create",1,"btn","btn-success"],[1,"material-symbols-outlined","btn-icon"],["appearance","outline",1,"example-form-field"],["matInput","",3,"keyup"],["input",""],[1,"table-responsive"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","doctor"],["matColumnDef","insurance"],["matColumnDef","branch"],["matColumnDef","price"],["matColumnDef","is_active"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["aria-label","Editar usuario",1,"btn","btn-primary","me-2","shadow",3,"click"],[1,"material-symbols-outlined"],["aria-label","Eliminar usuario",1,"btn","btn-danger","me-2","shadow",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Obras Sociales Profesionales"),t.qZA()(),t.TgZ(4,"div",0)(5,"div",3)(6,"button",4)(7,"i",5),t._uU(8,"medical_services"),t.qZA(),t._uU(9," Agregar Obra Social Profesional "),t.qZA()(),t.TgZ(10,"mat-form-field",6)(11,"mat-label"),t._uU(12,"Filtrar por Nombre"),t.qZA(),t.TgZ(13,"input",7,8),t.NdJ("keyup",function(s){return r.applyFilter(s)}),t.qZA()(),t.TgZ(15,"div",9)(16,"table",10),t.ynx(17,11),t.YNc(18,_t,2,0,"th",12),t.YNc(19,bt,2,1,"td",13),t.BQk(),t.ynx(20,14),t.YNc(21,Ct,2,0,"th",12),t.YNc(22,Zt,2,1,"td",13),t.BQk(),t.ynx(23,15),t.YNc(24,Dt,2,0,"th",12),t.YNc(25,vt,2,1,"td",13),t.BQk(),t.ynx(26,16),t.YNc(27,Tt,2,0,"th",12),t.YNc(28,St,2,1,"td",13),t.BQk(),t.ynx(29,17),t.YNc(30,It,2,0,"th",12),t.YNc(31,xt,2,1,"td",13),t.BQk(),t.ynx(32,18),t.YNc(33,yt,2,0,"th",12),t.YNc(34,At,2,1,"td",13),t.BQk(),t.ynx(35,19),t.YNc(36,Pt,2,0,"th",20),t.YNc(37,Ut,8,0,"td",13),t.BQk(),t.YNc(38,qt,1,0,"tr",21),t.YNc(39,wt,1,0,"tr",22),t.qZA()(),t._UZ(40,"mat-paginator",23),t.qZA()()),2&e&&(t.xp6(16),t.Q6J("dataSource",r.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(4,Nt)))},dependencies:[m.rH,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,_.NW,d.YE,d.nU,h.Nt,u.KE,u.hX],styles:[".example-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.mat-elevation-z8[_ngcontent-%COMP%]{background-color:#f5f5f5}button[_ngcontent-%COMP%]{min-height:20px;text-align:left;vertical-align:middle}.material-icons[_ngcontent-%COMP%]{margin-right:10px;vertical-align:middle}"]}),n})();var Ft=l(6316),P=l(4057);function Lt(n,i){if(1&n&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.user," ")}}function Yt(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"El campo Paciente es obligatorio"),t.qZA())}function Et(n,i){if(1&n&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Jt(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"El campo Obra Social es obligatorio"),t.qZA())}function Qt(n,i){if(1&n&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.AsE(" ",e.speciality," - ",e.name," ")}}function kt(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"El campo Rama de Especialidad es obligatorio"),t.qZA())}function Mt(n,i){if(1&n&&(t.TgZ(0,"mat-form-field",5)(1,"mat-label"),t._uU(2,"Rama de Especialidad"),t.qZA(),t.TgZ(3,"mat-select",17),t.YNc(4,Qt,2,3,"mat-option",9),t.qZA(),t.YNc(5,kt,2,0,"mat-error",10),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.branchs),t.xp6(1),t.Q6J("ngIf",null==e.insuranceDoctorForm.get("branch").errors?null:e.insuranceDoctorForm.get("branch").errors.required)}}function Rt(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1,"Obra Social"),t.qZA())}function Ht(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.insurance)}}function $t(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1,"Rama de atenci\xf3n"),t.qZA())}function jt(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.branch)}}function Xt(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1,"Cobertura $"),t.qZA())}function zt(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.price)}}function Kt(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1,"Activo"),t.qZA())}function Wt(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.is_active?"S\xed":"No"," ")}}function Vt(n,i){1&n&&(t.TgZ(0,"th",24),t._uU(1,"Acciones"),t.qZA())}function te(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",23),t.ynx(1),t.TgZ(2,"button",25),t.NdJ("click",function(){const s=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.insuranceDoctorEdit(s))}),t.TgZ(3,"i",26),t._uU(4,"edit"),t.qZA()(),t.TgZ(5,"button",27),t.NdJ("click",function(){const s=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.insuranceDelete(s.id))}),t.TgZ(6,"i",26),t._uU(7,"delete"),t.qZA()(),t.BQk(),t.qZA()}}function ee(n,i){1&n&&t._UZ(0,"tr",28)}function ne(n,i){1&n&&t._UZ(0,"tr",29)}const re=function(){return[5,10,25,100]};function ae(n,i){if(1&n&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function se(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"El campo Obra Social es obligatorio"),t.qZA())}function ce(n,i){if(1&n&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.AsE(" ",e.speciality," - ",e.name," ")}}function ue(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"El campo Rama de Especialidad es obligatorio"),t.qZA())}const le=[{path:"insurance",children:[{path:"",component:B},{path:"create",component:R},{path:"edit",component:$}]},{path:"patient",children:[{path:"",component:ut},{path:"create",component:gt},{path:"edit",component:ft}]},{path:"doctor",children:[{path:"",component:Ot},{path:"create",component:(()=>{class n{constructor(e,r,o,s,p,D,_e){this.doctorProfileService=e,this.insuranceService=r,this.insuranceDoctorService=o,this.specialityBranchService=s,this.fb=p,this.dialog=D,this.router=_e,this.doctors=[],this.insurances=[],this.branchs=[],this.filteredDoctor=new y.y,this.doctorControl=new a.NI("",a.kI.required),this.showBranch=!1,this.insuranceDoctorForm=this.fb.group({doctor:this.doctorControl,insurance:["",a.kI.required],branch:["",a.kI.required],price:["",a.kI.required]})}ngOnInit(){this.loadPatient(),this.loadInsurance(),this.filterPatient(),this.doctorChangeSubscription=this.insuranceDoctorForm.get("doctor")?.valueChanges.subscribe(e=>{this.loadBranch(e.id),this.showBranch=!0})}ngOnDestroy(){this.doctorChangeSubscription&&this.doctorChangeSubscription.unsubscribe()}loadPatient(){this.doctorProfileService.getDoctors().subscribe(e=>{this.doctors=e})}loadBranch(e=0){this.specialityBranchService.getDoctorBranchesBySpeciality(e).subscribe(r=>{this.branchs=r})}loadInsurance(){this.insuranceService.getAll().subscribe(e=>{this.insurances=e})}filterPatient(){this.filteredDoctor=this.insuranceDoctorForm.get("doctor").valueChanges.pipe((0,A.O)(""),(0,v.U)(e=>"string"==typeof e?e.toLowerCase():""),(0,v.U)(e=>e?this._filterDoctor(e):this.doctors.slice()))}_filterDoctor(e){return this.doctors.filter(r=>r.user.toString().toLowerCase().includes(e))}displayDoctor(e){return e&&e.user?e.user.toString():""}onSubmit(){this.insuranceDoctorForm.valid&&(this.insuranceDoctorForm.value.doctor=this.insuranceDoctorForm.value.doctor.id,this.insuranceDoctorService.create(this.insuranceDoctorForm.value).subscribe({next:r=>{this.dialog.showSuccessDialog("Obra Social agregada correctamente"),this.router.navigate(["/Dashboard/insurances/doctor"])},error:r=>{this.dialog.showErrorDialog(r.error.message)}}))}onCancel(){this.router.navigate(["/Dashboard/insurances/doctor"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ft.F),t.Y36(b.L),t.Y36(C.S),t.Y36(P.b),t.Y36(a.qu),t.Y36(f.x),t.Y36(m.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-insurance-doctor"]],decls:31,vars:12,consts:[[1,"container","mt-3"],[1,"card"],[1,"card-header","bg-info","text-white","text-center"],[1,"card-body"],[1,"create-user-form",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","",3,"matAutocomplete","formControl"],["autoActiveFirstOption","",3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","insurance"],["appearance","outline",4,"ngIf"],["matInput","","type","number","formControlName","price"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"],[3,"value"],["formControlName","branch"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Agregar Obra Social a Profesional"),t.qZA()(),t.TgZ(5,"div",3)(6,"form",4),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(7,"mat-form-field",5)(8,"mat-label"),t._uU(9,"Profesional"),t.qZA(),t._UZ(10,"input",6),t.TgZ(11,"mat-autocomplete",7,8),t.YNc(13,Lt,2,2,"mat-option",9),t.ALo(14,"async"),t.qZA(),t.YNc(15,Yt,2,0,"mat-error",10),t.qZA(),t.TgZ(16,"mat-form-field",5)(17,"mat-label"),t._uU(18,"Obra Social"),t.qZA(),t.TgZ(19,"mat-select",11),t.YNc(20,Et,2,2,"mat-option",9),t.qZA(),t.YNc(21,Jt,2,0,"mat-error",10),t.qZA(),t.YNc(22,Mt,6,2,"mat-form-field",12),t.TgZ(23,"mat-form-field",5)(24,"mat-label"),t._uU(25,"Cobertura"),t.qZA(),t._UZ(26,"input",13),t.qZA(),t.TgZ(27,"button",14),t._uU(28," Agregar Obra Social "),t.qZA(),t.TgZ(29,"button",15),t.NdJ("click",function(){return r.onCancel()}),t._uU(30,"Cancelar"),t.qZA()()()()()),2&e){const o=t.MAs(12);t.xp6(6),t.Q6J("formGroup",r.insuranceDoctorForm),t.xp6(4),t.Q6J("matAutocomplete",o)("formControl",r.doctorControl),t.xp6(1),t.Q6J("displayWith",r.displayDoctor),t.xp6(2),t.Q6J("ngForOf",t.lcZ(14,10,r.filteredDoctor)),t.xp6(2),t.Q6J("ngIf",null==r.insuranceDoctorForm.get("doctor").errors?null:r.insuranceDoctorForm.get("doctor").errors.required),t.xp6(5),t.Q6J("ngForOf",r.insurances),t.xp6(1),t.Q6J("ngIf",null==r.insuranceDoctorForm.get("insurance").errors?null:r.insuranceDoctorForm.get("insurance").errors.required),t.xp6(1),t.Q6J("ngIf",r.showBranch),t.xp6(5),t.Q6J("disabled",!r.insuranceDoctorForm.valid)}},dependencies:[g.sg,g.O5,h.Nt,u.KE,u.hX,u.TO,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.oH,a.sg,a.u,T.gD,I.ey,Z.XC,Z.ZL,g.Ov],styles:["create-user-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]}),n})()},{path:"edit",component:(()=>{class n{constructor(e,r,o,s){this.fb=e,this.router=r,this.insuranceDoctorService=o,this.dialogService=s}ngOnInit(){this.initForm(),history.state.insurancePlanDoctor&&(this.doctorName=history.state.insurancePlanDoctor.doctor,this.insuranceName=history.state.insurancePlanDoctor.insurance,this.branchName=history.state.insurancePlanDoctor.branch,this.insuranceDoctorForm.patchValue(history.state.insurancePlanDoctor))}initForm(){this.insuranceDoctorForm=this.fb.group({price:[""]})}onSubmit(){if(this.insuranceDoctorForm.valid){const e=history.state.insurancePlanDoctor?history.state.insurancePlanDoctor.id:null;e?this.insuranceDoctorService.update(e,this.insuranceDoctorForm.value).subscribe({next:()=>{this.dialogService.showSuccessDialog("Obra Social Editada con \xe9xito"),this.router.navigate(["/Dashboard/insurances/doctor"])},error:r=>{this.dialogService.showErrorDialog("Error al actualizar la Obra Social")}}):console.error("Error: No se pudo obtener el ID del usuario para la actualizaci\xf3n.")}else console.log("El formulario no es v\xe1lido")}onCancel(){this.router.navigate(["/Dashboard/insurances/doctor"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.qu),t.Y36(m.F0),t.Y36(C.S),t.Y36(f.x))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-insurance-doctor"]],decls:19,vars:5,consts:[[1,"container","mt-3"],[1,"card"],[1,"card-header","bg-info","text-white"],[1,"text-center"],[1,"card-body"],[1,"mb-4"],[1,"create-user-form",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","type","number","formControlName","price"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4),t.qZA()(),t.TgZ(5,"div",4)(6,"h5"),t._uU(7),t.qZA(),t.TgZ(8,"h5",5),t._uU(9),t.qZA(),t.TgZ(10,"form",6),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(11,"mat-form-field",7)(12,"mat-label"),t._uU(13,"Cobertura"),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"button",9),t._uU(16," Guardar "),t.qZA(),t.TgZ(17,"button",10),t.NdJ("click",function(){return r.onCancel()}),t._uU(18,"Cancelar"),t.qZA()()()()()),2&e&&(t.xp6(4),t.hij("Editar Obra Social ",r.insuranceName,""),t.xp6(3),t.hij("Profesional: ",r.doctorName,""),t.xp6(2),t.hij("Rama: ",r.branchName,""),t.xp6(1),t.Q6J("formGroup",r.insuranceDoctorForm),t.xp6(5),t.Q6J("disabled",!r.insuranceDoctorForm.valid))},dependencies:[h.Nt,u.KE,u.hX,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u],styles:["create-user-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]}),n})()},{path:"me",children:[{path:"",component:(()=>{class n{constructor(e,r,o){this.insuranceDoctorService=e,this.dialogService=r,this.router=o,this.displayedColumns=["insurance","branch","price","actions"]}ngOnInit(){this.setDataTable()}setDataTable(){this.insuranceDoctorService.getMeDoctorInsurance().subscribe(e=>{this.dataSource=new c.by(e),this.paginator._intl.itemsPerPageLabel="items por p\xe1gina",this.paginator._intl.firstPageLabel="primera p\xe1gina",this.paginator._intl.lastPageLabel="\xfaltima p\xe1gina",this.paginator._intl.nextPageLabel="p\xe1gina siguiente",this.paginator._intl.previousPageLabel="p\xe1gina anterior",this.dataSource.paginator=this.paginator,this.sort.active="name",this.sort.direction="asc",this.dataSource.sort=this.sort})}applyFilter(e){this.dataSource.filter=e.target.value.trim(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}insuranceDoctorEdit(e){this.router.navigate(["Dashboard/insurances/doctor/me/edit"],{state:{insurancePlanDoctor:e}})}insuranceDelete(e){this.dialogService.openConfirmDialog("\xbfEst\xe1s seguro de que deseas Eliminar esta Obra Social del Profesional?").afterClosed().subscribe(o=>{o&&this.insuranceDoctorService.deleteMeDoctorInsurance(e).subscribe({next:()=>{this.setDataTable(),this.dialogService.showSuccessDialog("Obra Social Eliminada con \xe9xito")},error:s=>{this.dialogService.showErrorDialog("Hubo un error al Eliminar la Obra Social")}})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.S),t.Y36(f.x),t.Y36(m.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-insurance-doctor-user"]],viewQuery:function(e,r){if(1&e&&(t.Gf(_.NW,5),t.Gf(d.YE,5)),2&e){let o;t.iGM(o=t.CRH())&&(r.paginator=o.first),t.iGM(o=t.CRH())&&(r.sort=o.first)}},decls:35,vars:5,consts:[[1,"container-fluid"],[1,"title","bg-info","text-center","border","border-dark","rounded-top","mb-4"],[1,"text-white"],[1,"d-flex","justify-content-end","mb-3"],["routerLink","create",1,"btn","btn-success"],[1,"material-symbols-outlined","btn-icon"],["appearance","outline",1,"example-form-field"],["matInput","",3,"keyup"],["input",""],[1,"table-responsive"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","insurance"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","branch"],["matColumnDef","price"],["matColumnDef","is_active"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["aria-label","Editar usuario",1,"btn","btn-primary","me-2","shadow",3,"click"],[1,"material-symbols-outlined"],["aria-label","Eliminar usuario",1,"btn","btn-danger","me-2","shadow",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Obras Sociales Profesionales"),t.qZA()(),t.TgZ(4,"div",0)(5,"div",3)(6,"button",4)(7,"i",5),t._uU(8,"medical_services"),t.qZA(),t._uU(9," Agregar Obra Social Profesional "),t.qZA()(),t.TgZ(10,"mat-form-field",6)(11,"mat-label"),t._uU(12,"Filtrar por Nombre"),t.qZA(),t.TgZ(13,"input",7,8),t.NdJ("keyup",function(s){return r.applyFilter(s)}),t.qZA()(),t.TgZ(15,"div",9)(16,"table",10),t.ynx(17,11),t.YNc(18,Rt,2,0,"th",12),t.YNc(19,Ht,2,1,"td",13),t.BQk(),t.ynx(20,14),t.YNc(21,$t,2,0,"th",12),t.YNc(22,jt,2,1,"td",13),t.BQk(),t.ynx(23,15),t.YNc(24,Xt,2,0,"th",12),t.YNc(25,zt,2,1,"td",13),t.BQk(),t.ynx(26,16),t.YNc(27,Kt,2,0,"th",12),t.YNc(28,Wt,2,1,"td",13),t.BQk(),t.ynx(29,17),t.YNc(30,Vt,2,0,"th",18),t.YNc(31,te,8,0,"td",13),t.BQk(),t.YNc(32,ee,1,0,"tr",19),t.YNc(33,ne,1,0,"tr",20),t.qZA()(),t._UZ(34,"mat-paginator",21),t.qZA()()),2&e&&(t.xp6(16),t.Q6J("dataSource",r.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(4,re)))},dependencies:[m.rH,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,_.NW,d.YE,d.nU,h.Nt,u.KE,u.hX],styles:[".example-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.mat-elevation-z8[_ngcontent-%COMP%]{background-color:#f5f5f5}button[_ngcontent-%COMP%]{min-height:20px;text-align:left;vertical-align:middle}.material-icons[_ngcontent-%COMP%]{margin-right:10px;vertical-align:middle}"]}),n})()},{path:"edit",component:(()=>{class n{constructor(e,r,o,s){this.fb=e,this.router=r,this.insuranceDoctorService=o,this.dialogService=s}ngOnInit(){this.initForm(),history.state.insurancePlanDoctor&&(this.doctorName=history.state.insurancePlanDoctor.doctor,this.insuranceName=history.state.insurancePlanDoctor.insurance,this.branchName=history.state.insurancePlanDoctor.branch,this.insuranceDoctorForm.patchValue(history.state.insurancePlanDoctor))}initForm(){this.insuranceDoctorForm=this.fb.group({price:[""]})}onSubmit(){if(this.insuranceDoctorForm.valid){const e=history.state.insurancePlanDoctor?history.state.insurancePlanDoctor.id:null;e?this.insuranceDoctorService.updateMeDoctorInsurance(e,this.insuranceDoctorForm.value).subscribe({next:()=>{this.dialogService.showSuccessDialog("Obra Social Editada con \xe9xito"),this.router.navigate(["/Dashboard/insurances/doctor/me"])},error:r=>{this.dialogService.showErrorDialog("Error al actualizar la Obra Social")}}):console.error("Error: No se pudo obtener el ID del usuario para la actualizaci\xf3n.")}else console.log("El formulario no es v\xe1lido")}onCancel(){this.router.navigate(["/Dashboard/insurances/doctor/me"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.qu),t.Y36(m.F0),t.Y36(C.S),t.Y36(f.x))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-insurance-doctor-user"]],decls:19,vars:4,consts:[[1,"container","mt-3"],[1,"card"],[1,"card-header","bg-info","text-white"],[1,"text-center"],[1,"card-body"],[1,"mb-4"],[1,"create-user-form",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","type","number","formControlName","price"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4,"Editar Obra Social "),t.qZA()(),t.TgZ(5,"div",4)(6,"h5"),t._uU(7),t.qZA(),t.TgZ(8,"h5",5),t._uU(9),t.qZA(),t.TgZ(10,"form",6),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(11,"mat-form-field",7)(12,"mat-label"),t._uU(13,"Cobertura"),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"button",9),t._uU(16," Guardar "),t.qZA(),t.TgZ(17,"button",10),t.NdJ("click",function(){return r.onCancel()}),t._uU(18,"Cancelar"),t.qZA()()()()()),2&e&&(t.xp6(7),t.hij("Obra Social: ",r.insuranceName,""),t.xp6(2),t.hij("Rama: ",r.branchName,""),t.xp6(1),t.Q6J("formGroup",r.insuranceDoctorForm),t.xp6(5),t.Q6J("disabled",!r.insuranceDoctorForm.valid))},dependencies:[h.Nt,u.KE,u.hX,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u],styles:["create-user-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]}),n})()},{path:"create",component:(()=>{class n{constructor(e,r,o,s,p,D){this.insuranceService=e,this.insuranceDoctorService=r,this.specialityBranchService=o,this.fb=s,this.dialog=p,this.router=D,this.insurances=[],this.branchs=[],this.showBranch=!1,this.insuranceDoctorForm=this.fb.group({insurance:["",a.kI.required],branch:["",a.kI.required],price:["",a.kI.required]})}ngOnInit(){this.loadInsurance(),this.loadBranch()}loadBranch(e=0){this.specialityBranchService.getMeSpecialityBranches().subscribe(r=>{this.branchs=r})}loadInsurance(){this.insuranceService.getAll().subscribe(e=>{this.insurances=e})}onSubmit(){this.insuranceDoctorForm.valid&&this.insuranceDoctorService.createMeDoctorInsurance(this.insuranceDoctorForm.value).subscribe({next:e=>{this.dialog.showSuccessDialog("Obra Social agregada correctamente"),this.router.navigate(["/Dashboard/insurances/doctor/me"])},error:e=>{this.dialog.showErrorDialog(e.error.message)}})}onCancel(){this.router.navigate(["/Dashboard/insurances/doctor/me"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.L),t.Y36(C.S),t.Y36(P.b),t.Y36(a.qu),t.Y36(f.x),t.Y36(m.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-insurance-doctor-user"]],decls:27,vars:6,consts:[[1,"container","mt-3"],[1,"card"],[1,"card-header","bg-info","text-white","text-center"],[1,"card-body"],[1,"create-user-form",3,"formGroup","ngSubmit"],["appearance","outline"],["formControlName","insurance"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","branch"],["matInput","","type","number","formControlName","price"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"],[3,"value"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Agregar Obra Social a Profesional"),t.qZA()(),t.TgZ(5,"div",3)(6,"form",4),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(7,"mat-form-field",5)(8,"mat-label"),t._uU(9,"Obra Social"),t.qZA(),t.TgZ(10,"mat-select",6),t.YNc(11,ae,2,2,"mat-option",7),t.qZA(),t.YNc(12,se,2,0,"mat-error",8),t.qZA(),t.TgZ(13,"mat-form-field",5)(14,"mat-label"),t._uU(15,"Rama de Especialidad"),t.qZA(),t.TgZ(16,"mat-select",9),t.YNc(17,ce,2,3,"mat-option",7),t.qZA(),t.YNc(18,ue,2,0,"mat-error",8),t.qZA(),t.TgZ(19,"mat-form-field",5)(20,"mat-label"),t._uU(21,"Cobertura"),t.qZA(),t._UZ(22,"input",10),t.qZA(),t.TgZ(23,"button",11),t._uU(24," Agregar Obra Social "),t.qZA(),t.TgZ(25,"button",12),t.NdJ("click",function(){return r.onCancel()}),t._uU(26,"Cancelar"),t.qZA()()()()()),2&e&&(t.xp6(6),t.Q6J("formGroup",r.insuranceDoctorForm),t.xp6(5),t.Q6J("ngForOf",r.insurances),t.xp6(1),t.Q6J("ngIf",null==r.insuranceDoctorForm.get("insurance").errors?null:r.insuranceDoctorForm.get("insurance").errors.required),t.xp6(5),t.Q6J("ngForOf",r.branchs),t.xp6(1),t.Q6J("ngIf",null==r.insuranceDoctorForm.get("branch").errors?null:r.insuranceDoctorForm.get("branch").errors.required),t.xp6(5),t.Q6J("disabled",!r.insuranceDoctorForm.valid))},dependencies:[g.sg,g.O5,h.Nt,u.KE,u.hX,u.TO,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u,T.gD,I.ey],styles:["create-user-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]}),n})()}]}]}];let me=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild(le),m.Bz]}),n})();var pe=l(4859),de=l(6709),he=l(3546),ge=l(7392);let fe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.ez,me,c.p0,_.TU,d.JX,h.c,u.lN,pe.ot,de.p9,he.QW,a.u5,a.UX,ge.Ps,T.LD,Z.Bb]}),n})()}}]);