"use strict";(self.webpackChunkprana=self.webpackChunkprana||[]).push([[554],{1554:(xn,U,p)=>{p.r(U),p.d(U,{SeminarModule:()=>vn});var h=p(6895),g=p(1390),m=p(4006),C=p(262),t=p(4650),q=p(2020),Y=p(4468),D=p(1670),Z=p(4261),b=p(8067),d=p(9549),S=p(4144),v=p(4385),I=p(3238);function E(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function P(e,r){if(1&e&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.Q6J("value",i),t.xp6(1),t.hij(" ",i," ")}}function J(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function k(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function O(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Este campo debe ser un n\xfamero entero "),t.qZA())}function M(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," El a\xf1o debe ser igual o mayor a 2024 "),t.qZA())}function B(e,r){if(1&e&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.Q6J("value",i.id),t.xp6(1),t.lnq(" ",i.weekday," de ",i.start_hour," a ",i.end_hour," ")}}function $(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function R(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function H(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Este campo debe ser un n\xfamero entero "),t.qZA())}function V(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," El n\xfamero de encuentros debe ser un valor positivo "),t.qZA())}function G(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," El n\xfamero de encuentros no puede ser mayor a 30 "),t.qZA())}function j(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Este campo debe ser un n\xfamero entero "),t.qZA())}function z(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," El cupo debe ser un valor positivo "),t.qZA())}function X(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function K(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Este campo debe ser un n\xfamero entero "),t.qZA())}function W(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," El costo debe ser un valor positivo "),t.qZA())}function tt(e,r){if(1&e&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.user," ")}}function et(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function it(e,r){if(1&e&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.name," ")}}function nt(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}let rt=(()=>{class e{constructor(i,n,o,a,s,l,u){this.fb=i,this.seminaristService=n,this.roomService=o,this.scheduleService=a,this.dialogService=s,this.seminarService=l,this.router=u,this.schedules=[],this.seminarians=[],this.rooms=[],this.monthChoices=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],this.seminarForm=this.fb.group({name:[null,m.kI.required],month:[null,m.kI.required],year:[null,[m.kI.required,m.kI.pattern(/^[0-9]\d*$/),m.kI.min(2024)]],schedule:[null,m.kI.required],meetingNumber:[null,[m.kI.required,m.kI.pattern(/^[0-9]\d*$/),m.kI.min(1),m.kI.max(30)]],maxInscription:[null,[m.kI.pattern(/^[0-9]\d*$/),m.kI.min(1)]],price:[null,[m.kI.required,m.kI.pattern(/^[0-9]\d*$/),m.kI.min(0)]],is_active:[null],seminarist:[null,m.kI.required],room:[null,m.kI.required]}),this.seminarResponse={id:0,name:"",month:"",year:0,schedule:[],meetingNumber:0,maxInscription:0,price:0,is_active:!1,seminarist:[],patients:[],rooms:[]}}ngOnInit(){this.loadRooms(),this.loadSeminarists(),this.loadSchedules()}loadRooms(){this.roomService.getRooms().subscribe(i=>{i.sort((n,o)=>n.name.localeCompare(o.name)),this.rooms=i})}loadSeminarists(){this.seminaristService.getSeminaristsDisplay().subscribe(i=>{let n=i.filter(o=>o.is_active);n.sort((o,a)=>o.user.localeCompare(a.user)),this.seminarians=n})}loadSchedules(){this.scheduleService.getSchedules().subscribe(i=>{this.schedules=i.sort((n,o)=>{const a=["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"],s=a.indexOf(n.weekday)-a.indexOf(o.weekday);return 0!==s?s:n.start_hour.localeCompare(o.start_hour)})})}onSubmit(){if(this.seminarForm.valid){const i=this.seminarForm.value,n={name:i.name,month:i.month,year:i.year,schedule:i.schedule,meetingNumber:i.meetingNumber,maxInscription:i.maxInscription,price:i.price,seminarist:i.seminarist,rooms:i.room,is_active:!0,patients:[]};this.dialogService.openConfirmDialog("Confirma la creaci\xf3n del taller").afterClosed().subscribe(a=>{a&&this.seminarService.createSeminar(n).pipe((0,C.K)(s=>{throw console.error("Error en la solicitud:",s),this.dialogService.showErrorDialog(s.error&&s.error.non_field_errors?"Error al crear el taller: "+s.error.non_field_errors[0]:"Ha ocurrido un error en la solicitud."),s})).subscribe(s=>{this.seminarResponse=s,this.dialogService.showSuccessDialog("Taller creado exitosamente").afterClosed().subscribe(()=>{this.dialogService.openConfirmDialog("\xbfDesea crear otro taller?").afterClosed().subscribe(T=>{T?window.location.reload():this.router.navigate(["/Dashboard/seminar/admin/list"])})})})})}}onCancel(){this.router.navigate(["/Dashboard/seminar/admin/list"])}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(m.qu),t.Y36(q.B),t.Y36(Y.X),t.Y36(D.u),t.Y36(Z.x),t.Y36(b.S),t.Y36(g.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-seminar-admin-create"]],decls:68,vars:23,consts:[[1,"title","bg-info","text-center","text-bold","border","border-dark","rounded-top","mb-4"],[1,"card"],[1,"card-header","bg-info","text-dark","text-center"],[1,"card-body"],[1,"create-user-form",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","name"],[4,"ngIf"],["formControlName","month"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","year"],["formControlName","schedule","multiple",""],["matInput","","formControlName","meetingNumber"],["matInput","","formControlName","maxInscription"],["matInput","","formControlName","price"],["formControlName","seminarist","multiple",""],["formControlName","room","multiple",""],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"],[3,"value"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Crear Taller"),t.qZA()(),t.TgZ(5,"div",3)(6,"form",4),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(7,"mat-form-field",5)(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",6),t.YNc(11,E,2,0,"mat-error",7),t.qZA(),t.TgZ(12,"mat-form-field",5)(13,"mat-label"),t._uU(14,"Mes"),t.qZA(),t.TgZ(15,"mat-select",8),t.YNc(16,P,2,2,"mat-option",9),t.qZA(),t.YNc(17,J,2,0,"mat-error",7),t.qZA(),t.TgZ(18,"mat-form-field",5)(19,"mat-label"),t._uU(20,"A\xf1o"),t.qZA(),t._UZ(21,"input",10),t.YNc(22,k,2,0,"mat-error",7),t.YNc(23,O,2,0,"mat-error",7),t.YNc(24,M,2,0,"mat-error",7),t.qZA(),t.TgZ(25,"mat-form-field",5)(26,"mat-label"),t._uU(27,"Horarios"),t.qZA(),t.TgZ(28,"mat-select",11),t.YNc(29,B,2,4,"mat-option",9),t.qZA(),t.YNc(30,$,2,0,"mat-error",7),t.qZA(),t.TgZ(31,"mat-form-field",5)(32,"mat-label"),t._uU(33,"N\xb0 de Encuentros"),t.qZA(),t._UZ(34,"input",12),t.YNc(35,R,2,0,"mat-error",7),t.YNc(36,H,2,0,"mat-error",7),t.YNc(37,V,2,0,"mat-error",7),t.YNc(38,G,2,0,"mat-error",7),t.qZA(),t.TgZ(39,"mat-form-field",5)(40,"mat-label"),t._uU(41,"Cupo"),t.qZA(),t._UZ(42,"input",13),t.YNc(43,j,2,0,"mat-error",7),t.YNc(44,z,2,0,"mat-error",7),t.qZA(),t.TgZ(45,"mat-form-field",5)(46,"mat-label"),t._uU(47,"Costo"),t.qZA(),t._UZ(48,"input",14),t.YNc(49,X,2,0,"mat-error",7),t.YNc(50,K,2,0,"mat-error",7),t.YNc(51,W,2,0,"mat-error",7),t.qZA(),t.TgZ(52,"mat-form-field",5)(53,"mat-label"),t._uU(54,"Talleristas"),t.qZA(),t.TgZ(55,"mat-select",15),t.YNc(56,tt,2,2,"mat-option",9),t.qZA(),t.YNc(57,et,2,0,"mat-error",7),t.qZA(),t.TgZ(58,"mat-form-field",5)(59,"mat-label"),t._uU(60,"Salas"),t.qZA(),t.TgZ(61,"mat-select",16),t.YNc(62,it,2,2,"mat-option",9),t.qZA(),t.YNc(63,nt,2,0,"mat-error",7),t.qZA(),t.TgZ(64,"button",17),t._uU(65," Crear Taller "),t.qZA(),t.TgZ(66,"button",18),t.NdJ("click",function(){return n.onCancel()}),t._uU(67,"Cancelar"),t.qZA()()()()()),2&i&&(t.xp6(6),t.Q6J("formGroup",n.seminarForm),t.xp6(5),t.Q6J("ngIf",null==n.seminarForm.get("name").errors?null:n.seminarForm.get("name").errors.required),t.xp6(5),t.Q6J("ngForOf",n.monthChoices),t.xp6(1),t.Q6J("ngIf",null==n.seminarForm.get("month").errors?null:n.seminarForm.get("month").errors.required),t.xp6(5),t.Q6J("ngIf",null==n.seminarForm.get("year").errors?null:n.seminarForm.get("year").errors.required),t.xp6(1),t.Q6J("ngIf",n.seminarForm.get("year").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",n.seminarForm.get("year").hasError("min")),t.xp6(5),t.Q6J("ngForOf",n.schedules),t.xp6(1),t.Q6J("ngIf",null==n.seminarForm.get("schedule").errors?null:n.seminarForm.get("schedule").errors.required),t.xp6(5),t.Q6J("ngIf",null==n.seminarForm.get("meetingNumber").errors?null:n.seminarForm.get("meetingNumber").errors.required),t.xp6(1),t.Q6J("ngIf",n.seminarForm.get("meetingNumber").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",n.seminarForm.get("meetingNumber").hasError("min")),t.xp6(1),t.Q6J("ngIf",n.seminarForm.get("meetingNumber").hasError("max")),t.xp6(5),t.Q6J("ngIf",n.seminarForm.get("maxInscription").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",n.seminarForm.get("maxInscription").hasError("min")),t.xp6(5),t.Q6J("ngIf",null==n.seminarForm.get("price").errors?null:n.seminarForm.get("price").errors.required),t.xp6(1),t.Q6J("ngIf",n.seminarForm.get("price").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",n.seminarForm.get("price").hasError("min")),t.xp6(5),t.Q6J("ngForOf",n.seminarians),t.xp6(1),t.Q6J("ngIf",null==n.seminarForm.get("seminarist").errors?null:n.seminarForm.get("seminarist").errors.required),t.xp6(5),t.Q6J("ngForOf",n.rooms),t.xp6(1),t.Q6J("ngIf",null==n.seminarForm.get("room").errors?null:n.seminarForm.get("room").errors.required),t.xp6(1),t.Q6J("disabled",!n.seminarForm.valid))},dependencies:[h.sg,h.O5,d.KE,d.hX,d.TO,S.Nt,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,v.gD,I.ey],styles:["create-user-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]}),e})();var f=p(8739),_=p(6308),c=p(7155);function ot(e,r){1&e&&(t.TgZ(0,"th",28),t._uU(1,"Nombre"),t.qZA())}function at(e,r){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.name)}}function mt(e,r){1&e&&(t.TgZ(0,"th",28),t._uU(1,"A\xf1o"),t.qZA())}function st(e,r){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.year)}}function ct(e,r){1&e&&(t.TgZ(0,"th",28),t._uU(1,"Mes"),t.qZA())}function lt(e,r){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.month)}}function pt(e,r){1&e&&(t.TgZ(0,"th",28),t._uU(1," D\xedas y Horarios "),t.qZA())}function ut(e,r){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.schedule.join(" - "))}}function dt(e,r){1&e&&(t.TgZ(0,"th",28),t._uU(1,"Encuentros"),t.qZA())}function _t(e,r){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.meetingNumber)}}function ft(e,r){1&e&&(t.TgZ(0,"th",28),t._uU(1,"Cupo"),t.qZA())}function gt(e,r){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.maxInscription)}}function ht(e,r){1&e&&(t.TgZ(0,"th",28),t._uU(1,"Precio"),t.qZA())}function St(e,r){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.price)}}function Ct(e,r){1&e&&(t.TgZ(0,"th",28),t._uU(1,"Salas"),t.qZA())}function Zt(e,r){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.rooms.join(" - "))}}function At(e,r){1&e&&(t.TgZ(0,"th",28),t._uU(1,"Talleristas"),t.qZA())}function Tt(e,r){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.hij(" ",i.seminarist.join(" - ")," ")}}function bt(e,r){1&e&&(t.TgZ(0,"th",28),t._uU(1,"Activo"),t.qZA())}function vt(e,r){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.hij(" ",i.is_active?"S\xed":"No"," ")}}function It(e,r){1&e&&(t.TgZ(0,"th",30),t._uU(1,"Acciones"),t.qZA())}function xt(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"div",33)(1,"button",34),t.NdJ("click",function(){t.CHM(i);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.onView(o))}),t.TgZ(2,"i",5),t._uU(3,"visibility"),t.qZA()(),t.TgZ(4,"button",35),t.NdJ("click",function(){t.CHM(i);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.onEdit(o))}),t.TgZ(5,"i",5),t._uU(6,"edit"),t.qZA()(),t.TgZ(7,"button",36),t.NdJ("click",function(){t.CHM(i);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.onDelete(o.id))}),t.TgZ(8,"i",5),t._uU(9,"delete"),t.qZA()()()}}function yt(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(i);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.activateSeminar(o))}),t.TgZ(1,"i",38),t._uU(2,"check_circle"),t.qZA(),t._uU(3,"Activar "),t.qZA()}}function qt(e,r){if(1&e&&(t.TgZ(0,"td",29),t.YNc(1,xt,10,0,"div",31),t.YNc(2,yt,4,0,"ng-template",null,32,t.W1O),t.qZA()),2&e){const i=r.$implicit,n=t.MAs(3);t.xp6(1),t.Q6J("ngIf",i.is_active)("ngIfElse",n)}}function Nt(e,r){1&e&&t._UZ(0,"tr",39)}function Ut(e,r){1&e&&t._UZ(0,"tr",40)}const Yt=function(){return[10,25,50,100]};let Dt=(()=>{class e{constructor(i,n,o){this.seminarService=i,this.router=n,this.dialogService=o,this.displayedColumns=["name","year","month","schedule","meetingNumber","maxInscription","price","rooms","seminarist","is_active","actions"]}ngOnInit(){this.setDataTable()}setDataTable(){this.seminarService.getSeminarsList().subscribe(i=>{this.dataSource=new c.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(i){this.dataSource.filter=i.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}activateSeminar(i){i.id&&this.seminarService.partialUpdateSeminar(i.id,{is_active:!0}).pipe((0,C.K)(o=>{throw console.error("Error en la solicitud:",o),this.dialogService.showErrorDialog(o.error&&o.error.non_field_errors?"Error al activar el seminario: "+o.error.non_field_errors[0]:"Ha ocurrido un error en la solicitud."),o})).subscribe(o=>{this.setDataTable(),this.dialogService.showSuccessDialog("Seminario activado con \xe9xito")})}onEdit(i){this.router.navigate(["Dashboard/seminar/admin/update"],{state:{seminar:i}})}onView(i){this.router.navigate(["Dashboard/seminar/admin/seminar-inscription/list"],{state:{seminar:i}})}onDelete(i){this.dialogService.openConfirmDialog("\xbfConfirma la desactivaci\xf3n de este Taller?").afterClosed().subscribe(o=>{o&&this.seminarService.deleteSeminar(i).pipe((0,C.K)(a=>{throw console.error("Error en la solicitud:",a),this.dialogService.showErrorDialog(a.error&&a.error.non_field_errors?"Error al desactivar el seminario: "+a.error.non_field_errors[0]:"Ha ocurrido un error en la solicitud."),a})).subscribe(a=>{this.setDataTable(),this.dialogService.showSuccessDialog("Seminario desactivado con \xe9xito")})})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(b.S),t.Y36(g.F0),t.Y36(Z.x))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-seminar-admin-list"]],viewQuery:function(i,n){if(1&i&&(t.Gf(f.NW,5),t.Gf(_.YE,5)),2&i){let o;t.iGM(o=t.CRH())&&(n.paginator=o.first),t.iGM(o=t.CRH())&&(n.sort=o.first)}},decls:52,vars:5,consts:[[1,"title","bg-info","text-center","text-bold","border","border-dark","rounded-top","mb-4"],[1,""],[1,"container-fluid"],[1,"d-flex","justify-content-start","mb-3"],["routerLink","/Dashboard/seminar/admin/create",1,"btn","btn-success"],[1,"material-symbols-outlined"],[1,"example-form-field"],["matInput","",3,"keyup"],["input",""],[1,"table-responsive"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","year"],["matColumnDef","month"],["matColumnDef","schedule"],["matColumnDef","meetingNumber"],["matColumnDef","maxInscription"],["matColumnDef","price"],["matColumnDef","rooms"],["matColumnDef","seminarist"],["matColumnDef","is_active"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex",4,"ngIf","ngIfElse"],["activateSeminarTemplate",""],[2,"display","flex"],["aria-label","Ver inscriptos",1,"btn","btn-info",3,"click"],["aria-label","Editar turno",1,"btn","btn-primary","ms-3",3,"click"],["aria-label","Eliminar turno",1,"btn","btn-danger","ms-3",3,"click"],["aria-label","Activar Seminario",1,"btn","btn-success","me-2","shadow","d-flex","align-items-center","justify-content-center",3,"click"],[1,"material-symbols-outlined","me-1","d-none","d-sm-inline"],["mat-header-row",""],["mat-row",""]],template:function(i,n){1&i&&(t.TgZ(0,"div")(1,"div",0)(2,"h1",1),t._uU(3,"Talleres - Administrador"),t.qZA()(),t.TgZ(4,"div",2)(5,"div",3)(6,"button",4),t._UZ(7,"i",5),t._uU(8,"Nuevo Taller "),t.qZA()(),t.TgZ(9,"mat-form-field",6)(10,"mat-label"),t._uU(11,"Filtro M\xfaltiple"),t.qZA(),t.TgZ(12,"input",7,8),t.NdJ("keyup",function(a){return n.applyFilter(a)}),t.qZA()(),t.TgZ(14,"div",9)(15,"table",10),t.ynx(16,11),t.YNc(17,ot,2,0,"th",12),t.YNc(18,at,2,1,"td",13),t.BQk(),t.ynx(19,14),t.YNc(20,mt,2,0,"th",12),t.YNc(21,st,2,1,"td",13),t.BQk(),t.ynx(22,15),t.YNc(23,ct,2,0,"th",12),t.YNc(24,lt,2,1,"td",13),t.BQk(),t.ynx(25,16),t.YNc(26,pt,2,0,"th",12),t.YNc(27,ut,2,1,"td",13),t.BQk(),t.ynx(28,17),t.YNc(29,dt,2,0,"th",12),t.YNc(30,_t,2,1,"td",13),t.BQk(),t.ynx(31,18),t.YNc(32,ft,2,0,"th",12),t.YNc(33,gt,2,1,"td",13),t.BQk(),t.ynx(34,19),t.YNc(35,ht,2,0,"th",12),t.YNc(36,St,2,1,"td",13),t.BQk(),t.ynx(37,20),t.YNc(38,Ct,2,0,"th",12),t.YNc(39,Zt,2,1,"td",13),t.BQk(),t.ynx(40,21),t.YNc(41,At,2,0,"th",12),t.YNc(42,Tt,2,1,"td",13),t.BQk(),t.ynx(43,22),t.YNc(44,bt,2,0,"th",12),t.YNc(45,vt,2,1,"td",13),t.BQk(),t.ynx(46,23),t.YNc(47,It,2,0,"th",24),t.YNc(48,qt,4,2,"td",13),t.BQk(),t.YNc(49,Nt,1,0,"tr",25),t.YNc(50,Ut,1,0,"tr",26),t.qZA()(),t._UZ(51,"mat-paginator",27),t.qZA()()),2&i&&(t.xp6(15),t.Q6J("dataSource",n.dataSource),t.xp6(34),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(4,Yt)))},dependencies:[h.O5,g.rH,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,f.NW,_.YE,_.nU,d.KE,d.hX,S.Nt],styles:[".example-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.mat-elevation-z8[_ngcontent-%COMP%]{background-color:#f5f5f5}button[_ngcontent-%COMP%]{min-height:20px;text-align:middle;vertical-align:middle}.material-icons[_ngcontent-%COMP%]{margin-right:10px;vertical-align:middle}"]}),e})();var x=p(6573),wt=p(529);let A=(()=>{class e{constructor(i){this.http=i,this.apiUrl="http://127.0.0.1:8000/seminar/admin/seminar-inscriptions/",this.apiPatientUrl="http://127.0.0.1:8000/seminar/patient/seminar-inscription/",this.seminarParam="?seminar="}getSeminarInscriptionsDetailById(i){return this.http.get(this.apiUrl+this.seminarParam+i+"&display=true")}getSeminarInscriptionsFlatById(i){return this.http.get(this.apiUrl+this.seminarParam+i)}getPatientSeminarInscriptions(i){return this.http.get(this.apiUrl+"?patient="+i+"&display=true")}createSeminarInscription(i){return this.http.post(this.apiUrl,i)}createPatientSeminarInscription(i){return this.http.post(this.apiPatientUrl,i)}updateSeminarInscription(i,n){return this.http.put(this.apiUrl+i+"/",n)}deleteInscription(i){return this.http.delete(this.apiUrl+i+"/")}deletePatientInscription(i){return this.http.post(this.apiPatientUrl+i+"/cancel/",{})}}return e.\u0275fac=function(i){return new(i||e)(t.LFG(wt.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ft(e,r){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Nombre"),t.qZA())}function Lt(e,r){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.name)}}function Qt(e,r){1&e&&(t.TgZ(0,"th",23),t._uU(1,"A\xf1o"),t.qZA())}function Et(e,r){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.year)}}function Pt(e,r){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Mes"),t.qZA())}function Jt(e,r){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.month)}}function kt(e,r){1&e&&(t.TgZ(0,"th",23),t._uU(1," D\xedas y Horarios "),t.qZA())}function Ot(e,r){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.schedule.join(" - "))}}function Mt(e,r){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Encuentros"),t.qZA())}function Bt(e,r){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.meetingNumber)}}function $t(e,r){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Cupo"),t.qZA())}function Rt(e,r){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.maxInscription)}}function Ht(e,r){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Precio"),t.qZA())}function Vt(e,r){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.price)}}function Gt(e,r){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Talleristas"),t.qZA())}function jt(e,r){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.hij(" ",i.seminarist.join(" - ")," ")}}function zt(e,r){1&e&&(t.TgZ(0,"th",25),t._uU(1,"Acciones"),t.qZA())}function Xt(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"td",24)(1,"div",26)(2,"button",27),t.NdJ("click",function(){const a=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.onRegister(a))}),t.TgZ(3,"i",28),t._uU(4,"create"),t.qZA(),t._uU(5," Inscribirse "),t.qZA()()()}}function Kt(e,r){1&e&&t._UZ(0,"tr",29)}function Wt(e,r){1&e&&t._UZ(0,"tr",30)}const te=function(){return[10,25,50,100]};let ee=(()=>{class e{constructor(i,n,o,a,s){this.seminarService=i,this.patientService=n,this.seminarInscriptionService=o,this.router=a,this.dialogService=s,this.displayedColumns=["name","year","month","schedule","meetingNumber","maxInscription","price","seminarist","actions"]}ngOnInit(){this.setDataTable()}setDataTable(){this.seminarService.getSeminarsList().subscribe(i=>{let n=i.filter(o=>o.is_active);this.dataSource=new c.by(n),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(i){this.dataSource.filter=i.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}onRegister(i){this.patientService.getCurrentPatient().subscribe(n=>{if(i.id){const o={seminar:i.id,patient:n.id,meetingNumber:1};this.dialogService.openConfirmDialog("Se enviar\xe1 una solicitud de inscripci\xf3n al taller").afterClosed().subscribe(s=>{s&&this.seminarInscriptionService.createPatientSeminarInscription(o).pipe((0,C.K)(l=>{throw console.error("Error en la solicitud:",l),this.dialogService.showErrorDialog(l.error&&l.error.non_field_errors?"Error al crear la solicitud de inscripci\xf3n: "+l.error.non_field_errors[0]:"Ha ocurrido un error en la solicitud."),l})).subscribe(l=>{this.dialogService.showSuccessDialog('\xa1Buenas noticias! Tu solicitud de inscripci\xf3n se ha creado exitosamente. Puedes ver el estado actual de tu inscripci\xf3n en el panel "Mis Inscripciones".').afterClosed().subscribe(()=>{this.router.navigate(["/Dashboard/seminar/patient/seminar-inscription/list"])})})})}})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(b.S),t.Y36(x.e),t.Y36(A),t.Y36(g.F0),t.Y36(Z.x))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-seminar-patient-list"]],viewQuery:function(i,n){if(1&i&&(t.Gf(f.NW,5),t.Gf(_.YE,5)),2&i){let o;t.iGM(o=t.CRH())&&(n.paginator=o.first),t.iGM(o=t.CRH())&&(n.sort=o.first)}},decls:42,vars:5,consts:[[1,"title","bg-info","text-center","text-bold","border","border-dark","rounded-top","mb-4"],[1,""],[1,"container-fluid"],[1,"example-form-field"],["matInput","",3,"keyup"],["input",""],[1,"table-responsive"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","year"],["matColumnDef","month"],["matColumnDef","schedule"],["matColumnDef","meetingNumber"],["matColumnDef","maxInscription"],["matColumnDef","price"],["matColumnDef","seminarist"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[2,"display","flex"],["aria-label","Inscribirse",1,"btn","btn-success",2,"width","80px","height","50px","font-size","11px","margin","5px 0",3,"click"],[1,"material-symbols-outlined"],["mat-header-row",""],["mat-row",""]],template:function(i,n){1&i&&(t.TgZ(0,"div")(1,"div",0)(2,"h1",1),t._uU(3,"Talleres - Paciente"),t.qZA()(),t.TgZ(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),t._uU(7,"Filtro M\xfaltiple"),t.qZA(),t.TgZ(8,"input",4,5),t.NdJ("keyup",function(a){return n.applyFilter(a)}),t.qZA()(),t.TgZ(10,"div",6)(11,"table",7),t.ynx(12,8),t.YNc(13,Ft,2,0,"th",9),t.YNc(14,Lt,2,1,"td",10),t.BQk(),t.ynx(15,11),t.YNc(16,Qt,2,0,"th",9),t.YNc(17,Et,2,1,"td",10),t.BQk(),t.ynx(18,12),t.YNc(19,Pt,2,0,"th",9),t.YNc(20,Jt,2,1,"td",10),t.BQk(),t.ynx(21,13),t.YNc(22,kt,2,0,"th",9),t.YNc(23,Ot,2,1,"td",10),t.BQk(),t.ynx(24,14),t.YNc(25,Mt,2,0,"th",9),t.YNc(26,Bt,2,1,"td",10),t.BQk(),t.ynx(27,15),t.YNc(28,$t,2,0,"th",9),t.YNc(29,Rt,2,1,"td",10),t.BQk(),t.ynx(30,16),t.YNc(31,Ht,2,0,"th",9),t.YNc(32,Vt,2,1,"td",10),t.BQk(),t.ynx(33,17),t.YNc(34,Gt,2,0,"th",9),t.YNc(35,jt,2,1,"td",10),t.BQk(),t.ynx(36,18),t.YNc(37,zt,2,0,"th",19),t.YNc(38,Xt,6,0,"td",10),t.BQk(),t.YNc(39,Kt,1,0,"tr",20),t.YNc(40,Wt,1,0,"tr",21),t.qZA()(),t._UZ(41,"mat-paginator",22),t.qZA()()),2&i&&(t.xp6(11),t.Q6J("dataSource",n.dataSource),t.xp6(28),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(4,te)))},dependencies:[c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,f.NW,_.YE,_.nU,d.KE,d.hX,S.Nt],styles:[".example-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.mat-elevation-z8[_ngcontent-%COMP%]{background-color:#f5f5f5}button[_ngcontent-%COMP%]{min-height:20px;text-align:middle;vertical-align:middle}.material-icons[_ngcontent-%COMP%]{margin-right:10px;vertical-align:middle}"]}),e})();function ie(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function ne(e,r){if(1&e&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.Q6J("value",i),t.xp6(1),t.hij(" ",i," ")}}function re(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function oe(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function ae(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Este campo debe ser un n\xfamero entero "),t.qZA())}function me(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," El a\xf1o debe ser igual o mayor a 2024 "),t.qZA())}function se(e,r){if(1&e&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.Q6J("value",i.id),t.xp6(1),t.lnq(" ",i.weekday," de ",i.start_hour," a ",i.end_hour," ")}}function ce(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function le(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function pe(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Este campo debe ser un n\xfamero entero "),t.qZA())}function ue(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," El n\xfamero de encuentros debe ser un valor positivo "),t.qZA())}function de(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," El n\xfamero de encuentros no puede ser mayor a 30 "),t.qZA())}function _e(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Este campo debe ser un n\xfamero entero "),t.qZA())}function fe(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," El cupo debe ser un valor positivo "),t.qZA())}function ge(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function he(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Este campo debe ser un n\xfamero entero "),t.qZA())}function Se(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," El costo debe ser un valor positivo "),t.qZA())}function Ce(e,r){if(1&e&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.user," ")}}function Ze(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function Ae(e,r){if(1&e&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.name," ")}}function Te(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}let be=(()=>{class e{constructor(i,n,o,a,s,l,u){this.fb=i,this.seminaristService=n,this.roomService=o,this.scheduleService=a,this.dialogService=s,this.seminarService=l,this.router=u,this.schedules=[],this.seminarians=[],this.rooms=[],this.monthChoices=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],this.seminarForm=this.fb.group({name:[null,m.kI.required],month:[null,m.kI.required],year:[null,[m.kI.required,m.kI.pattern(/^[0-9]\d*$/),m.kI.min(2024)]],schedule:[null,m.kI.required],meetingNumber:[null,[m.kI.required,m.kI.pattern(/^[0-9]\d*$/),m.kI.min(1),m.kI.max(30)]],maxInscription:[null,[m.kI.pattern(/^[0-9]\d*$/),m.kI.min(1)]],price:[null,[m.kI.required,m.kI.pattern(/^[0-9]\d*$/),m.kI.min(0)]],is_active:[null],seminarist:[null,m.kI.required],room:[null,m.kI.required]}),this.seminarResponse={id:0,name:"",month:"",year:0,schedule:[],meetingNumber:0,maxInscription:0,price:0,is_active:!1,seminarist:[],patients:[],rooms:[]}}ngOnInit(){this.loadRooms(),this.loadSeminarists(),this.loadSchedules(),this.initForm(history.state.seminar)}initForm(i){i.id&&this.seminarService.getSeminarById(i.id).subscribe(n=>{this.seminarForm.patchValue({name:n.name,month:n.month,year:n.year,schedule:n.schedule,meetingNumber:n.meetingNumber,maxInscription:n.maxInscription,price:n.price,is_active:n.is_active,seminarist:n.seminarist,room:n.rooms})})}loadRooms(){this.roomService.getRooms().subscribe(i=>{i.sort((n,o)=>n.name.localeCompare(o.name)),this.rooms=i})}loadSeminarists(){this.seminaristService.getSeminaristsDisplay().subscribe(i=>{let n=i.filter(o=>o.is_active);n.sort((o,a)=>o.user.localeCompare(a.user)),this.seminarians=n})}loadSchedules(){this.scheduleService.getSchedules().subscribe(i=>{this.schedules=i.sort((n,o)=>{const a=["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"],s=a.indexOf(n.weekday)-a.indexOf(o.weekday);return 0!==s?s:n.start_hour.localeCompare(o.start_hour)})})}onSubmit(){if(this.seminarForm.valid){const i=this.seminarForm.value,n={name:i.name,month:i.month,year:i.year,schedule:i.schedule,meetingNumber:i.meetingNumber,maxInscription:i.maxInscription,price:i.price,seminarist:i.seminarist,rooms:i.room,is_active:!0,patients:[]};this.dialogService.openConfirmDialog("Confirma la actualizaci\xf3n del taller").afterClosed().subscribe(a=>{a&&this.seminarService.updateSeminar(history.state.seminar.id,n).pipe((0,C.K)(s=>{throw console.error("Error en la solicitud:",s),this.dialogService.showErrorDialog(s.error&&s.error.non_field_errors?"Error al actualizar el taller: "+s.error.non_field_errors[0]:"Ha ocurrido un error en la solicitud."),s})).subscribe(s=>{this.seminarResponse=s,this.dialogService.showSuccessDialog("Taller actualizado exitosamente").afterClosed().subscribe(()=>{this.router.navigate(["/Dashboard/seminar/admin/list"])})})})}}onCancel(){this.router.navigate(["/Dashboard/seminar/admin/list"])}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(m.qu),t.Y36(q.B),t.Y36(Y.X),t.Y36(D.u),t.Y36(Z.x),t.Y36(b.S),t.Y36(g.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-seminar-admin-update"]],decls:68,vars:23,consts:[[1,"title","bg-info","text-center","text-bold","border","border-dark","rounded-top","mb-4"],[1,"card"],[1,"card-header","bg-info","text-dark","text-center"],[1,"card-body"],[1,"create-user-form",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","name"],[4,"ngIf"],["formControlName","month"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","year"],["formControlName","schedule","multiple",""],["matInput","","formControlName","meetingNumber"],["matInput","","formControlName","maxInscription"],["matInput","","formControlName","price"],["formControlName","seminarist","multiple",""],["formControlName","room","multiple",""],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"],[3,"value"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Editar Taller"),t.qZA()(),t.TgZ(5,"div",3)(6,"form",4),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(7,"mat-form-field",5)(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",6),t.YNc(11,ie,2,0,"mat-error",7),t.qZA(),t.TgZ(12,"mat-form-field",5)(13,"mat-label"),t._uU(14,"Mes"),t.qZA(),t.TgZ(15,"mat-select",8),t.YNc(16,ne,2,2,"mat-option",9),t.qZA(),t.YNc(17,re,2,0,"mat-error",7),t.qZA(),t.TgZ(18,"mat-form-field",5)(19,"mat-label"),t._uU(20,"A\xf1o"),t.qZA(),t._UZ(21,"input",10),t.YNc(22,oe,2,0,"mat-error",7),t.YNc(23,ae,2,0,"mat-error",7),t.YNc(24,me,2,0,"mat-error",7),t.qZA(),t.TgZ(25,"mat-form-field",5)(26,"mat-label"),t._uU(27,"Horarios"),t.qZA(),t.TgZ(28,"mat-select",11),t.YNc(29,se,2,4,"mat-option",9),t.qZA(),t.YNc(30,ce,2,0,"mat-error",7),t.qZA(),t.TgZ(31,"mat-form-field",5)(32,"mat-label"),t._uU(33,"N\xb0 de Encuentros"),t.qZA(),t._UZ(34,"input",12),t.YNc(35,le,2,0,"mat-error",7),t.YNc(36,pe,2,0,"mat-error",7),t.YNc(37,ue,2,0,"mat-error",7),t.YNc(38,de,2,0,"mat-error",7),t.qZA(),t.TgZ(39,"mat-form-field",5)(40,"mat-label"),t._uU(41,"Cupo"),t.qZA(),t._UZ(42,"input",13),t.YNc(43,_e,2,0,"mat-error",7),t.YNc(44,fe,2,0,"mat-error",7),t.qZA(),t.TgZ(45,"mat-form-field",5)(46,"mat-label"),t._uU(47,"Costo"),t.qZA(),t._UZ(48,"input",14),t.YNc(49,ge,2,0,"mat-error",7),t.YNc(50,he,2,0,"mat-error",7),t.YNc(51,Se,2,0,"mat-error",7),t.qZA(),t.TgZ(52,"mat-form-field",5)(53,"mat-label"),t._uU(54,"Talleristas"),t.qZA(),t.TgZ(55,"mat-select",15),t.YNc(56,Ce,2,2,"mat-option",9),t.qZA(),t.YNc(57,Ze,2,0,"mat-error",7),t.qZA(),t.TgZ(58,"mat-form-field",5)(59,"mat-label"),t._uU(60,"Salas"),t.qZA(),t.TgZ(61,"mat-select",16),t.YNc(62,Ae,2,2,"mat-option",9),t.qZA(),t.YNc(63,Te,2,0,"mat-error",7),t.qZA(),t.TgZ(64,"button",17),t._uU(65," Guardar "),t.qZA(),t.TgZ(66,"button",18),t.NdJ("click",function(){return n.onCancel()}),t._uU(67,"Cancelar"),t.qZA()()()()()),2&i&&(t.xp6(6),t.Q6J("formGroup",n.seminarForm),t.xp6(5),t.Q6J("ngIf",null==n.seminarForm.get("name").errors?null:n.seminarForm.get("name").errors.required),t.xp6(5),t.Q6J("ngForOf",n.monthChoices),t.xp6(1),t.Q6J("ngIf",null==n.seminarForm.get("month").errors?null:n.seminarForm.get("month").errors.required),t.xp6(5),t.Q6J("ngIf",null==n.seminarForm.get("year").errors?null:n.seminarForm.get("year").errors.required),t.xp6(1),t.Q6J("ngIf",n.seminarForm.get("year").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",n.seminarForm.get("year").hasError("min")),t.xp6(5),t.Q6J("ngForOf",n.schedules),t.xp6(1),t.Q6J("ngIf",null==n.seminarForm.get("schedule").errors?null:n.seminarForm.get("schedule").errors.required),t.xp6(5),t.Q6J("ngIf",null==n.seminarForm.get("meetingNumber").errors?null:n.seminarForm.get("meetingNumber").errors.required),t.xp6(1),t.Q6J("ngIf",n.seminarForm.get("meetingNumber").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",n.seminarForm.get("meetingNumber").hasError("min")),t.xp6(1),t.Q6J("ngIf",n.seminarForm.get("meetingNumber").hasError("max")),t.xp6(5),t.Q6J("ngIf",n.seminarForm.get("maxInscription").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",n.seminarForm.get("maxInscription").hasError("min")),t.xp6(5),t.Q6J("ngIf",null==n.seminarForm.get("price").errors?null:n.seminarForm.get("price").errors.required),t.xp6(1),t.Q6J("ngIf",n.seminarForm.get("price").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",n.seminarForm.get("price").hasError("min")),t.xp6(5),t.Q6J("ngForOf",n.seminarians),t.xp6(1),t.Q6J("ngIf",null==n.seminarForm.get("seminarist").errors?null:n.seminarForm.get("seminarist").errors.required),t.xp6(5),t.Q6J("ngForOf",n.rooms),t.xp6(1),t.Q6J("ngIf",null==n.seminarForm.get("room").errors?null:n.seminarForm.get("room").errors.required),t.xp6(1),t.Q6J("disabled",!n.seminarForm.valid))},dependencies:[h.sg,h.O5,d.KE,d.hX,d.TO,S.Nt,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,v.gD,I.ey],styles:["create-user-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]}),e})();function ve(e,r){1&e&&(t.TgZ(0,"th",27),t._uU(1,"Taller"),t.qZA())}function Ie(e,r){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.seminar)}}function xe(e,r){1&e&&(t.TgZ(0,"th",27),t._uU(1," Participante "),t.qZA())}function ye(e,r){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.patient)}}function qe(e,r){1&e&&(t.TgZ(0,"th",27),t._uU(1,"Estado"),t.qZA())}function Ne(e,r){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.seminar_status)}}function Ue(e,r){1&e&&(t.TgZ(0,"th",27),t._uU(1,"Encuentros"),t.qZA())}function Ye(e,r){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.meetingNumber)}}function De(e,r){1&e&&(t.TgZ(0,"th",27),t._uU(1,"O.Social"),t.qZA())}function we(e,r){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.insurance)}}function Fe(e,r){1&e&&(t.TgZ(0,"th",27),t._uU(1," Copago Participante "),t.qZA())}function Le(e,r){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.patient_copayment)}}function Qe(e,r){1&e&&(t.TgZ(0,"th",27),t._uU(1," Copago O.Social "),t.qZA())}function Ee(e,r){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.hi_copayment)}}function Pe(e,r){1&e&&(t.TgZ(0,"th",27),t._uU(1," Estado de Pago "),t.qZA())}function Je(e,r){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.payment_status)}}function ke(e,r){1&e&&(t.TgZ(0,"th",27),t._uU(1," M\xe9todo de Pago "),t.qZA())}function Oe(e,r){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.payment_method)}}function Me(e,r){1&e&&(t.TgZ(0,"th",29),t._uU(1,"Acciones"),t.qZA())}function Be(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"td",28)(1,"div",30)(2,"button",31),t.NdJ("click",function(){const a=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.onEdit(a))}),t.TgZ(3,"i",5),t._uU(4,"edit"),t.qZA()(),t.TgZ(5,"button",32),t.NdJ("click",function(){const a=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.onDelete(a.id))}),t.TgZ(6,"i",5),t._uU(7,"delete"),t.qZA()()()()}}function $e(e,r){1&e&&t._UZ(0,"tr",33)}function Re(e,r){1&e&&t._UZ(0,"tr",34)}const He=function(){return[10,25,50,100]};let Ve=(()=>{class e{constructor(i,n,o){this.seminarInscriptionService=i,this.router=n,this.dialogService=o,this.displayedColumns=["seminar","patient","seminar_status","meetingNumber","insurance","patient_copayment","hi_copayment","payment_status","payment_method","actions"],this.currentSeminar=history.state.seminar}ngOnInit(){this.setDataTable()}setDataTable(){this.seminarInscriptionService.getSeminarInscriptionsDetailById(history.state.seminar.id).subscribe(i=>{this.dataSource=new c.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(i){this.dataSource.filter=i.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}onEdit(i){this.router.navigate(["/Dashboard/seminar/admin/seminar-inscription/update"],{state:{seminarInscription:i,seminar:this.currentSeminar}})}addParticipant(i){this.router.navigate(["/Dashboard/seminar/admin/seminar-inscription/create"],{state:{seminar:i}})}onView(i){this.router.navigate(["Dashboard/seminar/admin/seminar-inscription/list"],{state:{seminar_id:i}})}onDelete(i){this.dialogService.openConfirmDialog("\xbfConfirma la eliminaci\xf3n de esta Inscripci\xf3n? esta acci\xf3n es irreversible").afterClosed().subscribe(o=>{o&&this.seminarInscriptionService.deleteInscription(i).pipe((0,C.K)(a=>{throw console.error("Error en la solicitud:",a),this.dialogService.showErrorDialog(a.error&&a.error.non_field_errors?"Error al desactivar el seminario: "+a.error.non_field_errors[0]:"Ha ocurrido un error en la solicitud."),a})).subscribe(a=>{this.setDataTable(),this.dialogService.showSuccessDialog("Inscripci\xf3n eliminada con \xe9xito")})})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(A),t.Y36(g.F0),t.Y36(Z.x))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-seminar-inscription-admin-list"]],viewQuery:function(i,n){if(1&i&&(t.Gf(f.NW,5),t.Gf(_.YE,5)),2&i){let o;t.iGM(o=t.CRH())&&(n.paginator=o.first),t.iGM(o=t.CRH())&&(n.sort=o.first)}},decls:49,vars:5,consts:[[1,"title","bg-info","text-center","text-bold","border","border-dark","rounded-top","mb-4"],[1,""],[1,"container-fluid"],[1,"d-flex","justify-content-start","mb-3"],[1,"btn","btn-success",3,"click"],[1,"material-symbols-outlined"],[1,"example-form-field"],["matInput","",3,"keyup"],["input",""],[1,"table-responsive"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","seminar"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","patient"],["matColumnDef","seminar_status"],["matColumnDef","meetingNumber"],["matColumnDef","insurance"],["matColumnDef","patient_copayment"],["matColumnDef","hi_copayment"],["matColumnDef","payment_status"],["matColumnDef","payment_method"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[2,"display","flex"],["aria-label","Editar turno",1,"btn","btn-primary",3,"click"],["aria-label","Eliminar turno",1,"btn","btn-danger","ms-3",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,n){1&i&&(t.TgZ(0,"div")(1,"div",0)(2,"h1",1),t._uU(3,"Inscripciones - Administrador"),t.qZA()(),t.TgZ(4,"div",2)(5,"div",3)(6,"button",4),t.NdJ("click",function(){return n.addParticipant(n.currentSeminar)}),t._UZ(7,"i",5),t._uU(8,"Agregar Participante "),t.qZA()(),t.TgZ(9,"mat-form-field",6)(10,"mat-label"),t._uU(11,"Filtro M\xfaltiple"),t.qZA(),t.TgZ(12,"input",7,8),t.NdJ("keyup",function(a){return n.applyFilter(a)}),t.qZA()(),t.TgZ(14,"div",9)(15,"table",10),t.ynx(16,11),t.YNc(17,ve,2,0,"th",12),t.YNc(18,Ie,2,1,"td",13),t.BQk(),t.ynx(19,14),t.YNc(20,xe,2,0,"th",12),t.YNc(21,ye,2,1,"td",13),t.BQk(),t.ynx(22,15),t.YNc(23,qe,2,0,"th",12),t.YNc(24,Ne,2,1,"td",13),t.BQk(),t.ynx(25,16),t.YNc(26,Ue,2,0,"th",12),t.YNc(27,Ye,2,1,"td",13),t.BQk(),t.ynx(28,17),t.YNc(29,De,2,0,"th",12),t.YNc(30,we,2,1,"td",13),t.BQk(),t.ynx(31,18),t.YNc(32,Fe,2,0,"th",12),t.YNc(33,Le,2,1,"td",13),t.BQk(),t.ynx(34,19),t.YNc(35,Qe,2,0,"th",12),t.YNc(36,Ee,2,1,"td",13),t.BQk(),t.ynx(37,20),t.YNc(38,Pe,2,0,"th",12),t.YNc(39,Je,2,1,"td",13),t.BQk(),t.ynx(40,21),t.YNc(41,ke,2,0,"th",12),t.YNc(42,Oe,2,1,"td",13),t.BQk(),t.ynx(43,22),t.YNc(44,Me,2,0,"th",23),t.YNc(45,Be,8,0,"td",13),t.BQk(),t.YNc(46,$e,1,0,"tr",24),t.YNc(47,Re,1,0,"tr",25),t.qZA()(),t._UZ(48,"mat-paginator",26),t.qZA()()),2&i&&(t.xp6(15),t.Q6J("dataSource",n.dataSource),t.xp6(31),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(4,He)))},dependencies:[c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,f.NW,_.YE,_.nU,d.KE,d.hX,S.Nt],styles:[".example-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.mat-elevation-z8[_ngcontent-%COMP%]{background-color:#f5f5f5}button[_ngcontent-%COMP%]{min-height:20px;text-align:middle;vertical-align:middle}.material-icons[_ngcontent-%COMP%]{margin-right:10px;vertical-align:middle}"]}),e})();var w=p(9751),F=p(8675),y=p(4004),L=p(503),Q=p(4684),N=p(3805);function Ge(e,r){if(1&e&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.Q6J("value",i),t.xp6(1),t.hij(" ",i.user," ")}}function je(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function ze(e,r){if(1&e&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.Q6J("value",i.value),t.xp6(1),t.hij(" ",i.viewValue," ")}}function Xe(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function Ke(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Este campo debe ser un n\xfamero entero "),t.qZA())}function We(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," El n\xfamero de encuentros debe ser un valor positivo "),t.qZA())}function ti(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," El n\xfamero de encuentros no puede ser mayor a 30 "),t.qZA())}function ei(e,r){if(1&e&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.name," ")}}function ii(e,r){if(1&e&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.Q6J("value",i.value),t.xp6(1),t.hij(" ",i.viewValue," ")}}function ni(e,r){if(1&e&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.name," ")}}function ri(e,r){if(1&e&&(t.TgZ(0,"mat-form-field",5)(1,"mat-label"),t._uU(2,"Metodo de Pago"),t.qZA(),t.TgZ(3,"mat-select",19)(4,"mat-option",18),t._uU(5,"Sin Solicitar"),t.qZA(),t.YNc(6,ni,2,2,"mat-option",9),t.qZA()()),2&e){const i=t.oxw();t.xp6(4),t.Q6J("value",null),t.xp6(2),t.Q6J("ngForOf",i.paymentMethods)}}let oi=(()=>{class e{constructor(i,n,o,a,s,l,u){this.fb=i,this.seminarInscriptionService=n,this.insuranceService=o,this.paymentMethodService=a,this.patientService=s,this.dialogService=l,this.router=u,this.patients=[],this.insurances=[],this.paymentMethods=[],this.filteredPatients=new w.y,this.payment_status_choices=[{value:1,viewValue:"Adeuda"},{value:2,viewValue:"Pagado"}],this.seminar_status_choices=[{value:1,viewValue:"EN ESPERA"},{value:2,viewValue:"CONFIRMADO"},{value:3,viewValue:"BAJA SOLICITADA"},{value:4,viewValue:"BAJA CONFIRMADA"}],this.isPaid=null,this.currentSeminar=history.state.seminar,this.seminarInscriptionForm=this.fb.group({patient:[null,m.kI.required],seminar_status:[1,m.kI.required],meetingNumber:[null,[m.kI.required,m.kI.pattern(/^[0-9]\d*$/),m.kI.min(1),m.kI.max(30)]],insurance:[null],payment_status:[1,[m.kI.required]],payment_method:[null]})}ngOnInit(){this.loadPatients(),this.loadPaymentMethods()}loadPatients(){this.patientService.getAllPatientsView().subscribe(i=>{let n=i.filter(o=>o.is_active);n.sort((o,a)=>o.user.toString().localeCompare(a.user.toString())),this.patients=n,this.filterPatients()})}loadPaymentMethods(){this.paymentMethodService.getPaymentMethods().subscribe(i=>{i.sort((n,o)=>n.name.localeCompare(o.name)),this.paymentMethods=i})}onPatientSelect(i){let n=this.patients.find(o=>o.id===i.id);if(n){let o=n.insurances;this.insuranceService.getAll().subscribe(a=>{let s=a.filter(u=>u.is_active);s.sort((u,T)=>u.name.toString().localeCompare(T.name.toString())),o&&(s=s.filter(u=>o.includes(u.name))),this.insurances=s;let l=this.insurances.find(u=>"PARTICULAR"===u.name.toUpperCase());l&&this.seminarInscriptionForm.get("insurance").setValue(l.id)})}}filterPatients(){this.filteredPatients=this.seminarInscriptionForm.get("patient").valueChanges.pipe((0,F.O)(""),(0,y.U)(i=>"string"==typeof i?i:i.name),(0,y.U)(i=>i?this._filterPatients(i):this.patients.slice()))}_filterPatients(i){const n=i.toLowerCase();return this.patients.filter(o=>o.user.toString().toLowerCase().includes(n))}displayPatient(i){return i?`${i.user.toString()}`:""}updatePaymentVisibility(i){this.isPaid=2===i,this.isPaid||this.seminarInscriptionForm.patchValue({payment_method:null})}onSubmit(){if(this.seminarInscriptionForm.valid){const i=this.seminarInscriptionForm.value,n={seminar:history.state.seminar.id,patient:i.patient.id,meetingNumber:i.meetingNumber,seminar_status:i.seminar_status,payment_status:i.payment_status};null!=i.payment_method&&(n.payment_method=i.payment_method),null!=i.insurance&&(n.insurance=i.insurance),this.dialogService.openConfirmDialog("Confirma la inscripci\xf3n al taller").afterClosed().subscribe(a=>{a&&this.seminarInscriptionService.createSeminarInscription(n).pipe((0,C.K)(s=>{throw console.error("Error en la solicitud:",s),this.dialogService.showErrorDialog(s.error&&s.error.non_field_errors?"Error al crear la inscripci\xf3n: "+s.error.non_field_errors[0]:"Ha ocurrido un error en la solicitud."),s})).subscribe(s=>{this.dialogService.showSuccessDialog("Inscripci\xf3n creada exitosamente").afterClosed().subscribe(()=>{this.dialogService.openConfirmDialog("\xbfDesea realizar otra inscripci\xf3n a este taller?").afterClosed().subscribe(T=>{T?window.location.reload():this.router.navigate(["/Dashboard/seminar/admin/seminar-inscription/list"],{state:{seminar:this.currentSeminar}})})})})})}}onCancel(){this.router.navigate(["/Dashboard/seminar/admin/seminar-inscription/list"],{state:{seminar:this.currentSeminar}})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(m.qu),t.Y36(A),t.Y36(L.L),t.Y36(Q.e),t.Y36(x.e),t.Y36(Z.x),t.Y36(g.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-seminar-inscription-admin-create"]],decls:44,vars:16,consts:[[1,"title","bg-info","text-center","text-bold","border","border-dark","rounded-top","mb-4"],[1,"card"],[1,"card-header","bg-info","text-dark","text-center"],[1,"card-body"],[1,"create-user-form",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","patient",3,"matAutocomplete"],["autoActiveFirstOption","",3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","seminar_status"],["matInput","","formControlName","meetingNumber"],["formControlName","insurance"],["formControlName","payment_status",3,"ngModelChange"],["appearance","outline",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"],[3,"value"],["formControlName","payment_method"]],template:function(i,n){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Agregar Participante"),t.qZA()(),t.TgZ(5,"div",3)(6,"form",4),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(7,"mat-form-field",5)(8,"mat-label"),t._uU(9,"Participante"),t.qZA(),t._UZ(10,"input",6),t.TgZ(11,"mat-autocomplete",7,8),t.NdJ("optionSelected",function(a){return n.onPatientSelect(a.option.value)}),t.YNc(13,Ge,2,2,"mat-option",9),t.ALo(14,"async"),t.qZA(),t.YNc(15,je,2,0,"mat-error",10),t.qZA(),t.TgZ(16,"mat-form-field",5)(17,"mat-label"),t._uU(18,"Estado de Inscripci\xf3n"),t.qZA(),t.TgZ(19,"mat-select",11),t.YNc(20,ze,2,2,"mat-option",9),t.qZA()(),t.TgZ(21,"mat-form-field",5)(22,"mat-label"),t._uU(23,"N\xb0 de Encuentros"),t.qZA(),t._UZ(24,"input",12),t.YNc(25,Xe,2,0,"mat-error",10),t.YNc(26,Ke,2,0,"mat-error",10),t.YNc(27,We,2,0,"mat-error",10),t.YNc(28,ti,2,0,"mat-error",10),t.qZA(),t.TgZ(29,"mat-form-field",5)(30,"mat-label"),t._uU(31,"Seleccionar obra social (Opcional) "),t.qZA(),t.TgZ(32,"mat-select",13),t.YNc(33,ei,2,2,"mat-option",9),t.qZA()(),t.TgZ(34,"mat-form-field",5)(35,"mat-label"),t._uU(36,"Estado de Pago "),t.qZA(),t.TgZ(37,"mat-select",14),t.NdJ("ngModelChange",function(a){return n.updatePaymentVisibility(a)}),t.YNc(38,ii,2,2,"mat-option",9),t.qZA()(),t.YNc(39,ri,7,2,"mat-form-field",15),t.TgZ(40,"button",16),t._uU(41," Agregar Participante "),t.qZA(),t.TgZ(42,"button",17),t.NdJ("click",function(){return n.onCancel()}),t._uU(43,"Cancelar"),t.qZA()()()()()),2&i){const o=t.MAs(12);t.xp6(6),t.Q6J("formGroup",n.seminarInscriptionForm),t.xp6(4),t.Q6J("matAutocomplete",o),t.xp6(1),t.Q6J("displayWith",n.displayPatient),t.xp6(2),t.Q6J("ngForOf",t.lcZ(14,14,n.filteredPatients)),t.xp6(2),t.Q6J("ngIf",null==n.seminarInscriptionForm.get("patient").errors?null:n.seminarInscriptionForm.get("patient").errors.required),t.xp6(5),t.Q6J("ngForOf",n.seminar_status_choices),t.xp6(5),t.Q6J("ngIf",null==n.seminarInscriptionForm.get("meetingNumber").errors?null:n.seminarInscriptionForm.get("meetingNumber").errors.required),t.xp6(1),t.Q6J("ngIf",n.seminarInscriptionForm.get("meetingNumber").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",n.seminarInscriptionForm.get("meetingNumber").hasError("min")),t.xp6(1),t.Q6J("ngIf",n.seminarInscriptionForm.get("meetingNumber").hasError("max")),t.xp6(5),t.Q6J("ngForOf",n.insurances),t.xp6(5),t.Q6J("ngForOf",n.payment_status_choices),t.xp6(1),t.Q6J("ngIf",n.isPaid),t.xp6(1),t.Q6J("disabled",!n.seminarInscriptionForm.valid)}},dependencies:[h.sg,h.O5,d.KE,d.hX,d.TO,S.Nt,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,v.gD,I.ey,N.XC,N.ZL,h.Ov],styles:["create-user-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]}),e})();function ai(e,r){if(1&e&&(t.TgZ(0,"mat-option",17),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.Q6J("value",i.value),t.xp6(1),t.hij(" ",i.viewValue," ")}}function mi(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function si(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Este campo debe ser un n\xfamero entero "),t.qZA())}function ci(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," El n\xfamero de encuentros debe ser un valor positivo "),t.qZA())}function li(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," El n\xfamero de encuentros no puede ser mayor a 30 "),t.qZA())}function pi(e,r){if(1&e&&(t.TgZ(0,"mat-option",17),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.name," ")}}function ui(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function di(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Este campo debe ser un n\xfamero entero "),t.qZA())}function _i(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Este campo debe ser un valor positivo "),t.qZA())}function fi(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function gi(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Este campo debe ser un n\xfamero entero "),t.qZA())}function hi(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Este campo debe ser un valor positivo "),t.qZA())}function Si(e,r){if(1&e&&(t.TgZ(0,"mat-option",17),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.Q6J("value",i.value),t.xp6(1),t.hij(" ",i.viewValue," ")}}function Ci(e,r){if(1&e&&(t.TgZ(0,"mat-option",17),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.name," ")}}function Zi(e,r){if(1&e&&(t.TgZ(0,"mat-form-field",5)(1,"mat-label"),t._uU(2,"Metodo de Pago"),t.qZA(),t.TgZ(3,"mat-select",18)(4,"mat-option",17),t._uU(5,"Sin Solicitar"),t.qZA(),t.YNc(6,Ci,2,2,"mat-option",7),t.qZA()()),2&e){const i=t.oxw();t.xp6(4),t.Q6J("value",null),t.xp6(2),t.Q6J("ngForOf",i.paymentMethods)}}let Ai=(()=>{class e{constructor(i,n,o,a,s,l,u){this.fb=i,this.seminarInscriptionService=n,this.insuranceService=o,this.paymentMethodService=a,this.patientService=s,this.dialogService=l,this.router=u,this.patients=[],this.insurances=[],this.paymentMethods=[],this.filteredPatients=new w.y,this.payment_status_choices=[{value:1,viewValue:"Adeuda"},{value:2,viewValue:"Pagado"}],this.seminar_status_choices=[{value:1,viewValue:"EN ESPERA"},{value:2,viewValue:"CONFIRMADO"},{value:3,viewValue:"BAJA SOLICITADA"},{value:4,viewValue:"BAJA CONFIRMADA"}],this.isPaid=null,this.currentInscription=history.state.seminarInscription,this.currentSeminar=history.state.seminar,this.seminarInscriptionForm=this.fb.group({patient:[null,m.kI.required],seminar_status:[null,m.kI.required],meetingNumber:[null,[m.kI.required,m.kI.pattern(/^[0-9]\d*$/),m.kI.min(1),m.kI.max(30)]],insurance:[null],patient_copayment:[null,[m.kI.pattern(/^[0-9]\d*$/),m.kI.min(0)]],hi_copayment:[null,[m.kI.pattern(/^[0-9]\d*$/),m.kI.min(0)]],payment_status:[null,[m.kI.required]],payment_method:[null]})}ngOnInit(){this.loadPatients(),this.loadPaymentMethods()}initform(i){this.patients.length>0&&i.id&&this.seminarInscriptionService.getSeminarInscriptionsFlatById(i.id).subscribe(n=>{let o=n.find(a=>a.id===this.currentInscription.id);if(o){let a=this.patients.find(s=>s.id===o?.patient);this.seminarInscriptionForm.patchValue({patient:a,seminar_status:o.seminar_status,meetingNumber:o.meetingNumber,payment_status:o.payment_status,payment_method:o.payment_method,patient_copayment:o.patient_copayment,hi_copayment:o.hi_copayment}),a&&this.onPatientSelect(a),this.seminarInscriptionForm.patchValue({insurance:o.insurance})}})}loadPatients(){this.patientService.getAllPatientsView().subscribe(i=>{let n=i.filter(o=>o.is_active);n.sort((o,a)=>o.user.toString().localeCompare(a.user.toString())),this.patients=n,this.initform(this.currentSeminar),this.filterPatients()})}loadPaymentMethods(){this.paymentMethodService.getPaymentMethods().subscribe(i=>{i.sort((n,o)=>n.name.localeCompare(o.name)),this.paymentMethods=i})}onPatientSelect(i){let n=this.patients.find(o=>o.id===i.id);if(n){let o=n.insurances;this.insuranceService.getAll().subscribe(a=>{let s=a.filter(u=>u.is_active);s.sort((u,T)=>u.name.toString().localeCompare(T.name.toString())),o&&(s=s.filter(u=>o.includes(u.name))),this.insurances=s;let l=this.insurances.find(u=>"PARTICULAR"===u.name.toUpperCase());l&&this.seminarInscriptionForm.get("insurance").setValue(l.id)})}}filterPatients(){this.filteredPatients=this.seminarInscriptionForm.get("patient").valueChanges.pipe((0,F.O)(""),(0,y.U)(i=>"string"==typeof i?i:i.name),(0,y.U)(i=>i?this._filterPatients(i):this.patients.slice()))}_filterPatients(i){const n=i.toLowerCase();return this.patients.filter(o=>o.user.toString().toLowerCase().includes(n))}displayPatient(i){return i?`${i.user.toString()}`:""}updatePaymentVisibility(i){this.isPaid=2===i,this.isPaid||this.seminarInscriptionForm.patchValue({payment_method:null})}onSubmit(){if(this.seminarInscriptionForm.valid){const i=this.seminarInscriptionForm.value,n={seminar:history.state.seminar.id,patient:i.patient.id,meetingNumber:i.meetingNumber,seminar_status:i.seminar_status,payment_status:i.payment_status,payment_method:i.payment_method};null!=i.insurance&&(n.insurance=i.insurance),this.dialogService.openConfirmDialog("Confirma la actualizaci\xf3n de esta inscripci\xf3n").afterClosed().subscribe(a=>{a&&this.seminarInscriptionService.updateSeminarInscription(this.currentInscription.id,n).pipe((0,C.K)(s=>{throw console.error("Error en la solicitud:",s),this.dialogService.showErrorDialog(s.error&&s.error.non_field_errors?"Error al actualizar la inscripci\xf3n: "+s.error.non_field_errors[0]:"Ha ocurrido un error en la solicitud."),s})).subscribe(s=>{this.dialogService.showSuccessDialog("Inscripci\xf3n actualizada exitosamente").afterClosed().subscribe(()=>{this.router.navigate(["/Dashboard/seminar/admin/seminar-inscription/list"],{state:{seminar:this.currentSeminar}})})})})}}onCancel(){this.router.navigate(["/Dashboard/seminar/admin/seminar-inscription/list"],{state:{seminar:this.currentSeminar}})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(m.qu),t.Y36(A),t.Y36(L.L),t.Y36(Q.e),t.Y36(x.e),t.Y36(Z.x),t.Y36(g.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-seminar-inscription-admin-update"]],decls:49,vars:17,consts:[[1,"title","bg-info","text-center","text-bold","border","border-dark","rounded-top","mb-4"],[1,"card"],[1,"card-header","bg-info","text-dark","text-center"],[1,"card-body"],[1,"create-user-form",3,"formGroup","ngSubmit"],["appearance","outline"],["formControlName","seminar_status"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","meetingNumber"],[4,"ngIf"],["formControlName","insurance"],["matInput","","formControlName","patient_copayment"],["matInput","","formControlName","hi_copayment"],["formControlName","payment_status",3,"ngModelChange"],["appearance","outline",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"],[3,"value"],["formControlName","payment_method"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4),t.qZA()(),t.TgZ(5,"div",3)(6,"form",4),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(7,"mat-form-field",5)(8,"mat-label"),t._uU(9,"Estado de Inscripci\xf3n"),t.qZA(),t.TgZ(10,"mat-select",6),t.YNc(11,ai,2,2,"mat-option",7),t.qZA()(),t.TgZ(12,"mat-form-field",5)(13,"mat-label"),t._uU(14,"N\xb0 de Encuentros"),t.qZA(),t._UZ(15,"input",8),t.YNc(16,mi,2,0,"mat-error",9),t.YNc(17,si,2,0,"mat-error",9),t.YNc(18,ci,2,0,"mat-error",9),t.YNc(19,li,2,0,"mat-error",9),t.qZA(),t.TgZ(20,"mat-form-field",5)(21,"mat-label"),t._uU(22,"Seleccionar obra social (Opcional) "),t.qZA(),t.TgZ(23,"mat-select",10),t.YNc(24,pi,2,2,"mat-option",7),t.qZA()(),t.TgZ(25,"mat-form-field",5)(26,"mat-label"),t._uU(27,"Copago Paciente"),t.qZA(),t._UZ(28,"input",11),t.YNc(29,ui,2,0,"mat-error",9),t.YNc(30,di,2,0,"mat-error",9),t.YNc(31,_i,2,0,"mat-error",9),t.qZA(),t.TgZ(32,"mat-form-field",5)(33,"mat-label"),t._uU(34,"Copago O.Social"),t.qZA(),t._UZ(35,"input",12),t.YNc(36,fi,2,0,"mat-error",9),t.YNc(37,gi,2,0,"mat-error",9),t.YNc(38,hi,2,0,"mat-error",9),t.qZA(),t.TgZ(39,"mat-form-field",5)(40,"mat-label"),t._uU(41,"Estado de Pago "),t.qZA(),t.TgZ(42,"mat-select",13),t.NdJ("ngModelChange",function(a){return n.updatePaymentVisibility(a)}),t.YNc(43,Si,2,2,"mat-option",7),t.qZA()(),t.YNc(44,Zi,7,2,"mat-form-field",14),t.TgZ(45,"button",15),t._uU(46," Guardar "),t.qZA(),t.TgZ(47,"button",16),t.NdJ("click",function(){return n.onCancel()}),t._uU(48,"Cancelar"),t.qZA()()()()()),2&i&&(t.xp6(4),t.hij("Editar Participante: ",n.currentInscription.patient,""),t.xp6(2),t.Q6J("formGroup",n.seminarInscriptionForm),t.xp6(5),t.Q6J("ngForOf",n.seminar_status_choices),t.xp6(5),t.Q6J("ngIf",null==n.seminarInscriptionForm.get("meetingNumber").errors?null:n.seminarInscriptionForm.get("meetingNumber").errors.required),t.xp6(1),t.Q6J("ngIf",n.seminarInscriptionForm.get("meetingNumber").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",n.seminarInscriptionForm.get("meetingNumber").hasError("min")),t.xp6(1),t.Q6J("ngIf",n.seminarInscriptionForm.get("meetingNumber").hasError("max")),t.xp6(5),t.Q6J("ngForOf",n.insurances),t.xp6(5),t.Q6J("ngIf",null==n.seminarInscriptionForm.get("patient_copayment").errors?null:n.seminarInscriptionForm.get("patient_copayment").errors.required),t.xp6(1),t.Q6J("ngIf",n.seminarInscriptionForm.get("patient_copayment").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",n.seminarInscriptionForm.get("patient_copayment").hasError("min")),t.xp6(5),t.Q6J("ngIf",null==n.seminarInscriptionForm.get("hi_copayment").errors?null:n.seminarInscriptionForm.get("hi_copayment").errors.required),t.xp6(1),t.Q6J("ngIf",n.seminarInscriptionForm.get("hi_copayment").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",n.seminarInscriptionForm.get("hi_copayment").hasError("min")),t.xp6(5),t.Q6J("ngForOf",n.payment_status_choices),t.xp6(1),t.Q6J("ngIf",n.isPaid),t.xp6(1),t.Q6J("disabled",!n.seminarInscriptionForm.valid))},dependencies:[h.sg,h.O5,d.KE,d.hX,d.TO,S.Nt,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,v.gD,I.ey],styles:["create-user-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]}),e})();function Ti(e,r){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Taller"),t.qZA())}function bi(e,r){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.seminar)}}function vi(e,r){1&e&&(t.TgZ(0,"th",20),t._uU(1," Participante "),t.qZA())}function Ii(e,r){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.patient)}}function xi(e,r){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Estado"),t.qZA())}function yi(e,r){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.seminar_status)}}function qi(e,r){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Encuentros"),t.qZA())}function Ni(e,r){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.meetingNumber)}}function Ui(e,r){1&e&&(t.TgZ(0,"th",20),t._uU(1,"O.Social"),t.qZA())}function Yi(e,r){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.insurance)}}function Di(e,r){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Acciones"),t.qZA())}function wi(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"td",21)(1,"div",23)(2,"button",24),t.NdJ("click",function(){const a=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.onDelete(a.id))}),t.TgZ(3,"i",25),t._uU(4,"delete"),t.qZA()()()()}}function Fi(e,r){1&e&&t._UZ(0,"tr",26)}function Li(e,r){1&e&&t._UZ(0,"tr",27)}const Qi=function(){return[10,25,50,100]};let Ei=(()=>{class e{constructor(i,n,o,a){this.seminarInscriptionService=i,this.patientService=n,this.router=o,this.dialogService=a,this.displayedColumns=["seminar","patient","seminar_status","meetingNumber","insurance","actions"],this.currentSeminar=history.state.seminar}ngOnInit(){this.setDataTable()}setDataTable(){this.patientService.getCurrentPatient().subscribe(i=>{this.seminarInscriptionService.getPatientSeminarInscriptions(i.id).subscribe(n=>{this.dataSource=new c.by(n),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})})}applyFilter(i){this.dataSource.filter=i.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}onDelete(i){this.dialogService.openConfirmDialog("\xbfConfirmas que deseas solicitar la baja de este taller?").afterClosed().subscribe(o=>{o&&this.seminarInscriptionService.deletePatientInscription(i).pipe((0,C.K)(a=>{throw console.error("Error en la solicitud:",a),this.dialogService.showErrorDialog(a.error&&a.error.non_field_errors?"Ha ocurrido un error al intentar procesar la solicitud de baja de la inscripci\xf3n: "+a.error.non_field_errors[0]:"Se ha producido un error durante el procesamiento de tu solicitud de baja."),a})).subscribe(a=>{this.setDataTable(),this.dialogService.showSuccessDialog("Tu solicitud de baja ha sido procesada exitosamente <br>"+a.message)})})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(A),t.Y36(x.e),t.Y36(g.F0),t.Y36(Z.x))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-seminar-inscription-patient-list"]],viewQuery:function(i,n){if(1&i&&(t.Gf(f.NW,5),t.Gf(_.YE,5)),2&i){let o;t.iGM(o=t.CRH())&&(n.paginator=o.first),t.iGM(o=t.CRH())&&(n.sort=o.first)}},decls:33,vars:5,consts:[[1,"title","bg-info","text-center","text-bold","border","border-dark","rounded-top","mb-4"],[1,""],[1,"container-fluid"],[1,"example-form-field"],["matInput","",3,"keyup"],["input",""],[1,"table-responsive"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","seminar"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","patient"],["matColumnDef","seminar_status"],["matColumnDef","meetingNumber"],["matColumnDef","insurance"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[2,"display","flex"],["aria-label","Eliminar turno",1,"btn","btn-danger","ms-3",3,"click"],[1,"material-symbols-outlined"],["mat-header-row",""],["mat-row",""]],template:function(i,n){1&i&&(t.TgZ(0,"div")(1,"div",0)(2,"h1",1),t._uU(3,"Mis Inscripciones"),t.qZA()(),t.TgZ(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),t._uU(7,"Filtro M\xfaltiple"),t.qZA(),t.TgZ(8,"input",4,5),t.NdJ("keyup",function(a){return n.applyFilter(a)}),t.qZA()(),t.TgZ(10,"div",6)(11,"table",7),t.ynx(12,8),t.YNc(13,Ti,2,0,"th",9),t.YNc(14,bi,2,1,"td",10),t.BQk(),t.ynx(15,11),t.YNc(16,vi,2,0,"th",9),t.YNc(17,Ii,2,1,"td",10),t.BQk(),t.ynx(18,12),t.YNc(19,xi,2,0,"th",9),t.YNc(20,yi,2,1,"td",10),t.BQk(),t.ynx(21,13),t.YNc(22,qi,2,0,"th",9),t.YNc(23,Ni,2,1,"td",10),t.BQk(),t.ynx(24,14),t.YNc(25,Ui,2,0,"th",9),t.YNc(26,Yi,2,1,"td",10),t.BQk(),t.ynx(27,15),t.YNc(28,Di,2,0,"th",16),t.YNc(29,wi,5,0,"td",10),t.BQk(),t.YNc(30,Fi,1,0,"tr",17),t.YNc(31,Li,1,0,"tr",18),t.qZA()(),t._UZ(32,"mat-paginator",19),t.qZA()()),2&i&&(t.xp6(11),t.Q6J("dataSource",n.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(4,Qi)))},dependencies:[c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,f.NW,_.YE,_.nU,d.KE,d.hX,S.Nt],styles:[".example-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.mat-elevation-z8[_ngcontent-%COMP%]{background-color:#f5f5f5}button[_ngcontent-%COMP%]{min-height:20px;text-align:middle;vertical-align:middle}.material-icons[_ngcontent-%COMP%]{margin-right:10px;vertical-align:middle}"]}),e})();function Pi(e,r){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Nombre"),t.qZA())}function Ji(e,r){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.name)}}function ki(e,r){1&e&&(t.TgZ(0,"th",23),t._uU(1,"A\xf1o"),t.qZA())}function Oi(e,r){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.year)}}function Mi(e,r){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Mes"),t.qZA())}function Bi(e,r){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.month)}}function $i(e,r){1&e&&(t.TgZ(0,"th",23),t._uU(1," D\xedas y Horarios "),t.qZA())}function Ri(e,r){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.schedule.join(" - "))}}function Hi(e,r){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Encuentros"),t.qZA())}function Vi(e,r){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.meetingNumber)}}function Gi(e,r){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Cupo"),t.qZA())}function ji(e,r){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.maxInscription)}}function zi(e,r){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Precio"),t.qZA())}function Xi(e,r){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.price)}}function Ki(e,r){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Talleristas"),t.qZA())}function Wi(e,r){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.hij(" ",i.seminarist.join(" - ")," ")}}function tn(e,r){1&e&&(t.TgZ(0,"th",25),t._uU(1,"Acciones"),t.qZA())}function en(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"td",24)(1,"div",26)(2,"button",27),t.NdJ("click",function(){const a=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.onView(a))}),t.TgZ(3,"i",28),t._uU(4,"visibility"),t.qZA()()()()}}function nn(e,r){1&e&&t._UZ(0,"tr",29)}function rn(e,r){1&e&&t._UZ(0,"tr",30)}const on=function(){return[10,25,50,100]};function mn(e,r){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Taller"),t.qZA())}function sn(e,r){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.seminar)}}function cn(e,r){1&e&&(t.TgZ(0,"th",17),t._uU(1," Participante "),t.qZA())}function ln(e,r){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.patient)}}function pn(e,r){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Estado"),t.qZA())}function un(e,r){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.seminar_status)}}function dn(e,r){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Encuentros"),t.qZA())}function _n(e,r){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const i=r.$implicit;t.xp6(1),t.Oqu(i.meetingNumber)}}function fn(e,r){1&e&&t._UZ(0,"tr",19)}function gn(e,r){1&e&&t._UZ(0,"tr",20)}const hn=function(){return[10,25,50,100]},Sn=[{path:"admin",children:[{path:"create",component:rt},{path:"list",component:Dt},{path:"update",component:be},{path:"seminar-inscription",children:[{path:"list",component:Ve},{path:"create",component:oi},{path:"update",component:Ai}]}]},{path:"seminarist",children:[{path:"list",component:(()=>{class e{constructor(i,n,o){this.seminarService=i,this.seminaristService=n,this.router=o,this.displayedColumns=["name","year","month","schedule","meetingNumber","maxInscription","price","seminarist","actions"]}ngOnInit(){this.setDataTable()}setDataTable(){this.seminaristService.getCurrentDisplaySeminarist().subscribe(i=>{i&&this.seminarService.getSeminarsListAux().subscribe(n=>{let o=(n=n.filter(a=>a.seminarist.includes(i.user))).filter(a=>a.is_active);this.dataSource=new c.by(o),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})})}applyFilter(i){this.dataSource.filter=i.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}onView(i){this.router.navigate(["Dashboard/seminar/seminarist/seminar-inscription/list"],{state:{seminar:i}})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(b.S),t.Y36(q.B),t.Y36(g.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-seminar-seminarist-list"]],viewQuery:function(i,n){if(1&i&&(t.Gf(f.NW,5),t.Gf(_.YE,5)),2&i){let o;t.iGM(o=t.CRH())&&(n.paginator=o.first),t.iGM(o=t.CRH())&&(n.sort=o.first)}},decls:42,vars:5,consts:[[1,"title","bg-info","text-center","text-bold","border","border-dark","rounded-top","mb-4"],[1,""],[1,"container-fluid"],[1,"example-form-field"],["matInput","",3,"keyup"],["input",""],[1,"table-responsive"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","year"],["matColumnDef","month"],["matColumnDef","schedule"],["matColumnDef","meetingNumber"],["matColumnDef","maxInscription"],["matColumnDef","price"],["matColumnDef","seminarist"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[2,"display","flex"],["aria-label","Ver inscriptos",1,"btn","btn-info",3,"click"],[1,"material-symbols-outlined"],["mat-header-row",""],["mat-row",""]],template:function(i,n){1&i&&(t.TgZ(0,"div")(1,"div",0)(2,"h1",1),t._uU(3,"Mis Talleres"),t.qZA()(),t.TgZ(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),t._uU(7,"Filtro M\xfaltiple"),t.qZA(),t.TgZ(8,"input",4,5),t.NdJ("keyup",function(a){return n.applyFilter(a)}),t.qZA()(),t.TgZ(10,"div",6)(11,"table",7),t.ynx(12,8),t.YNc(13,Pi,2,0,"th",9),t.YNc(14,Ji,2,1,"td",10),t.BQk(),t.ynx(15,11),t.YNc(16,ki,2,0,"th",9),t.YNc(17,Oi,2,1,"td",10),t.BQk(),t.ynx(18,12),t.YNc(19,Mi,2,0,"th",9),t.YNc(20,Bi,2,1,"td",10),t.BQk(),t.ynx(21,13),t.YNc(22,$i,2,0,"th",9),t.YNc(23,Ri,2,1,"td",10),t.BQk(),t.ynx(24,14),t.YNc(25,Hi,2,0,"th",9),t.YNc(26,Vi,2,1,"td",10),t.BQk(),t.ynx(27,15),t.YNc(28,Gi,2,0,"th",9),t.YNc(29,ji,2,1,"td",10),t.BQk(),t.ynx(30,16),t.YNc(31,zi,2,0,"th",9),t.YNc(32,Xi,2,1,"td",10),t.BQk(),t.ynx(33,17),t.YNc(34,Ki,2,0,"th",9),t.YNc(35,Wi,2,1,"td",10),t.BQk(),t.ynx(36,18),t.YNc(37,tn,2,0,"th",19),t.YNc(38,en,5,0,"td",10),t.BQk(),t.YNc(39,nn,1,0,"tr",20),t.YNc(40,rn,1,0,"tr",21),t.qZA()(),t._UZ(41,"mat-paginator",22),t.qZA()()),2&i&&(t.xp6(11),t.Q6J("dataSource",n.dataSource),t.xp6(28),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(4,on)))},dependencies:[c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,f.NW,_.YE,_.nU,d.KE,d.hX,S.Nt],styles:[".example-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.mat-elevation-z8[_ngcontent-%COMP%]{background-color:#f5f5f5}button[_ngcontent-%COMP%]{min-height:20px;text-align:middle;vertical-align:middle}.material-icons[_ngcontent-%COMP%]{margin-right:10px;vertical-align:middle}"]}),e})()},{path:"seminar-inscription",children:[{path:"list",component:(()=>{class e{constructor(i){this.seminarInscriptionService=i,this.displayedColumns=["seminar","patient","seminar_status","meetingNumber"],this.currentSeminar=history.state.seminar}ngOnInit(){this.setDataTable()}setDataTable(){this.seminarInscriptionService.getSeminarInscriptionsDetailById(history.state.seminar.id).subscribe(i=>{this.dataSource=new c.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(i){this.dataSource.filter=i.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(A))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-seminar-inscription-seminarist-list"]],viewQuery:function(i,n){if(1&i&&(t.Gf(f.NW,5),t.Gf(_.YE,5)),2&i){let o;t.iGM(o=t.CRH())&&(n.paginator=o.first),t.iGM(o=t.CRH())&&(n.sort=o.first)}},decls:27,vars:5,consts:[[1,"title","bg-info","text-center","text-bold","border","border-dark","rounded-top","mb-4"],[1,""],[1,"container-fluid"],[1,"example-form-field"],["matInput","",3,"keyup"],["input",""],[1,"table-responsive"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","seminar"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","patient"],["matColumnDef","seminar_status"],["matColumnDef","meetingNumber"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(i,n){1&i&&(t.TgZ(0,"div")(1,"div",0)(2,"h1",1),t._uU(3,"Visualizar Inscripciones"),t.qZA()(),t.TgZ(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),t._uU(7,"Filtro M\xfaltiple"),t.qZA(),t.TgZ(8,"input",4,5),t.NdJ("keyup",function(a){return n.applyFilter(a)}),t.qZA()(),t.TgZ(10,"div",6)(11,"table",7),t.ynx(12,8),t.YNc(13,mn,2,0,"th",9),t.YNc(14,sn,2,1,"td",10),t.BQk(),t.ynx(15,11),t.YNc(16,cn,2,0,"th",9),t.YNc(17,ln,2,1,"td",10),t.BQk(),t.ynx(18,12),t.YNc(19,pn,2,0,"th",9),t.YNc(20,un,2,1,"td",10),t.BQk(),t.ynx(21,13),t.YNc(22,dn,2,0,"th",9),t.YNc(23,_n,2,1,"td",10),t.BQk(),t.YNc(24,fn,1,0,"tr",14),t.YNc(25,gn,1,0,"tr",15),t.qZA()(),t._UZ(26,"mat-paginator",16),t.qZA()()),2&i&&(t.xp6(11),t.Q6J("dataSource",n.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(4,hn)))},dependencies:[c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,f.NW,_.YE,_.nU,d.KE,d.hX,S.Nt],styles:[".example-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.mat-elevation-z8[_ngcontent-%COMP%]{background-color:#f5f5f5}button[_ngcontent-%COMP%]{min-height:20px;text-align:middle;vertical-align:middle}.material-icons[_ngcontent-%COMP%]{margin-right:10px;vertical-align:middle}"]}),e})()}]}]},{path:"patient",children:[{path:"list",component:ee},{path:"seminar-inscription",children:[{path:"list",component:Ei}]}]}];let Cn=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.Bz.forChild(Sn),g.Bz]}),e})();var Zn=p(4859),An=p(6709),Tn=p(3546),bn=p(7392);let vn=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[b.S,A],imports:[h.ez,Cn,c.p0,f.TU,_.JX,d.lN,S.c,Zn.ot,An.p9,Tn.QW,m.u5,m.UX,bn.Ps,v.LD,N.Bb]}),e})()}}]);